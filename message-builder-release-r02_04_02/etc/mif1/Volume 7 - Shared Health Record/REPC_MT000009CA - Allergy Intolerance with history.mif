<!--
/*******************************************************************************
 * Copyright (c) 2010 Health Level Seven, Inc.
 * All rights reserved. This file and the model designs it contains 
 * are made available under terms of a proprietary license implicitly 
 * established by the terms expressed in the Bylaws of Health 
 * Level Seven, Inc. (HL7), in combination with the agreements under 
 * which individual and organizational memberships are established with HL7.
 * Links to the HL7 Bylaws may be found at http://www.hl7.org 
 *******************************************************************************/ 
				--><mif:serializedStaticModel xmlns:mif="urn:hl7-org:v3/mif" packageKind="realm"
                           representationKind="serialized"
                           isAbstract="false"
                           title="Allergy Intolerance with history"
                           isSerializable="true"
                           name="CA">
   <mif:packageLocation root="DEFN" section="HM" subSection="RE" domain="PC" artifact="MT-deprecated"
                        realm="CA"
                        id="000009"/>
   <mif:header>
      <mif:renderingInformation schemaVersion="1" application="Visio to MIF transform"/>
      <mif:legalese copyrightOwner="Health Level Seven" copyrightYears="2010">
         <mif:notation>All rights reserved.</mif:notation>
      </mif:legalese>
   </mif:header>
   <mif:graphicRepresentation presentation="HL7">
      <mif:graphElement name="Main">
         <mif:position x="0.0" y="0.0"/>
         <mif:size width="18.715" height="12.066"/>
      </mif:graphElement>
   </mif:graphicRepresentation>
   <mif:derivationSupplier staticModelDerivationId="1">
      <mif:targetStaticModel root="DEFN" artifact="RIM" version="0226"/>
   </mif:derivationSupplier>
   <mif:importedDatatypeModelPackage root="DEFN" artifact="DT" realm="CA" version="R02.04.xx"/>
   <mif:importedVocabularyModelPackage root="DEFN" artifact="VO" realm="CA" version="R02.04.xx"/>
   <mif:importedCommonModelElementPackage root="DEFN" artifact="CMET" realm="CA" version="R02.04.xx"/>
   <mif:ownedEntryPoint id="REPC_MT000009CA" name="Allergy Intolerance with history" isAbstract="false">
      <mif:graphicRepresentation>
         <mif:graphElement shapeId="Sheet.87" containerDiagramName="Main">
            <mif:position x="6.455" y="0.028"/>
            <mif:size width="2.152" height="0.453"/>
            <mif:anchorage connectToShapeId="Sheet.87">
               <mif:position x="7.522" y="0.481"/>
               <mif:graphEdge>
                  <mif:anchor connectToShapeId="Sheet.1">
                     <mif:position x="7.540" y="1.021"/>
                  </mif:anchor>
               </mif:graphEdge>
            </mif:anchorage>
         </mif:graphElement>
      </mif:graphicRepresentation>
      <mif:specializedClass>
         <mif:class name="IntoleranceCondition" isAbstract="false">
            <mif:businessName name="Allergy/Intolerance"/>
            <mif:derivationSupplier staticModelDerivationId="1" className="Observation"/>
            <mif:graphicRepresentation presentation="HL7">
               <mif:graphElement shapeId="Sheet.1" containerDiagramName="Main" shapeTemplate="Act"
                                 isWidthAutoSize="true"
                                 isHeightAutoSize="false">
                  <mif:position x="5.971" y="1.021"/>
                  <mif:size width="3.139" height="6.207"/>
               </mif:graphElement>
            </mif:graphicRepresentation>
            <mif:annotations>
               <mif:definition>
                  <mif:text>
                     <mif:p>
                        <mif:p>A record of a patient's allergy or intolerance.</mif:p>
                     </mif:p>
                  </mif:text>
               </mif:definition>
               <mif:rationale>
                  <mif:text>
                     <mif:p>
                        <mif:p>Necessary component of a person's overall medication and clinical profile. Helps with drug contraindication checking.</mif:p>
                     </mif:p>
                  </mif:text>
               </mif:rationale>
            </mif:annotations>
            <mif:attribute name="classCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                           conformance="R"
                           isMandatory="true"
                           fixedValue="COND"
                           isStructural="true">
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="classCode"/>
               <mif:type name="CS"/>
               <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActClass" mnemonic="COND"/>
            </mif:attribute>
            <mif:attribute name="moodCode" sortKey="2" minimumMultiplicity="1" maximumMultiplicity="1"
                           conformance="R"
                           isMandatory="true"
                           fixedValue="EVN"
                           isStructural="true">
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="moodCode"/>
               <mif:type name="CS"/>
               <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActMood" mnemonic="EVN"/>
            </mif:attribute>
            <mif:attribute name="id" sortKey="3" minimumMultiplicity="1" maximumMultiplicity="1"
                           conformance="R"
                           isMandatory="true"
                           isStructural="false">
               <mif:businessName name="D:Allergy/Intolerance Record Id"/>
               <mif:annotations>
                  <mif:definition>
                     <mif:text>
                        <mif:p>
                           <mif:p>Unique identifier for an allergy/intolerance record.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:definition>
                  <mif:rationale>
                     <mif:text>
                        <mif:p>
                           <mif:p>Allows for direct referencing of an allergy/intolerance record when querying or performing updates and is therefore mandatory.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:rationale>
               </mif:annotations>
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="id"/>
               <mif:type name="II.BUS_AND_VER"/>
            </mif:attribute>
            <mif:attribute name="code" sortKey="4" minimumMultiplicity="1" maximumMultiplicity="1"
                           conformance="R"
                           isMandatory="true"
                           isStructural="false">
               <mif:businessName name="A:Allergy/Intolerance Type"/>
               <mif:annotations>
                  <mif:definition>
                     <mif:text>
                        <mif:p>
                           <mif:p>A coded value denoting whether the record pertains to an intolerance or a true allergy. (Allergies result from immunologic reactions. Intolerances do not.)</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:definition>
                  <mif:rationale>
                     <mif:text>
                        <mif:p>
                           <mif:p>Allows for the separation of allergy and intolerance records. The type of condition is critical to understanding the record and is therefore mandatory. It is expressed as a CD to allow for SNOMED post-coordination.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:rationale>
               </mif:annotations>
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="code"/>
               <mif:type name="CD"/>
               <mif:supplierDomainSpecification codingStrength="CNE" domainName="ObservationIntoleranceType"/>
            </mif:attribute>
            <mif:attribute name="negationInd" sortKey="5" minimumMultiplicity="1" maximumMultiplicity="1"
                           conformance="R"
                           isMandatory="true"
                           defaultValue="false"
                           isStructural="true">
               <mif:businessName name="G:Allergy/Intolerance Refuted"/>
               <mif:annotations>
                  <mif:definition>
                     <mif:text>
                        <mif:p>
                           <mif:p>An indication that the allergy/intolerance has been refuted. I.e. A clinician has positively determined that the patient does not suffer from a particular allergy or intolerance.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:definition>
                  <mif:rationale>
                     <mif:text>
                        <mif:p>
                           <mif:p>Allows providers to refute a previously confirmed or suspected allergy. Because it is essential to know whether the record refutes or affirms an allergy, this attribute is mandatory.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:rationale>
               </mif:annotations>
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="negationInd"/>
               <mif:type name="BL"/>
            </mif:attribute>
            <mif:attribute name="statusCode" sortKey="6" minimumMultiplicity="1" maximumMultiplicity="1"
                           conformance="R"
                           isMandatory="true"
                           isStructural="false">
               <mif:businessName name="E:Allergy/Intolerance Status"/>
               <mif:annotations>
                  <mif:definition>
                     <mif:text>
                        <mif:p>
                           <mif:p>"Identifies what kind of change occurred. Allergy/Intolerance change types are Revise, Reactivate and Complete</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:definition>
                  <mif:usageNotes>
                     <mif:text>
                        <mif:p>
                           <mif:p>System must default the status to 'ACTIVE'.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:usageNotes>
                  <mif:rationale>
                     <mif:text>
                        <mif:p>
                           <mif:p>Allows providers to evaluate the relevance of a recorded allergy/intolerance. The status has a default value of 'active' and is therefore mandatory.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:rationale>
               </mif:annotations>
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="statusCode"/>
               <mif:type name="CS"/>
               <mif:supplierDomainSpecification codingStrength="CNE" domainName="ActStatus"/>
            </mif:attribute>
            <mif:attribute name="effectiveTime" sortKey="7" minimumMultiplicity="0"
                           maximumMultiplicity="1"
                           conformance="R"
                           isMandatory="false"
                           isStructural="false">
               <mif:businessName name="I:Allergy/Intolerance Date"/>
               <mif:annotations>
                  <mif:definition>
                     <mif:text>
                        <mif:p>
                           <mif:p>The date on which the recorded allergy is considered active.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:definition>
                  <mif:rationale>
                     <mif:text>
                        <mif:p>
                           <mif:p>Allows providers to evaluate the period of relevance for the allergy/intolerance record.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:rationale>
               </mif:annotations>
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation"
                                       attributeName="effectiveTime"/>
               <mif:type name="TS.DATE"/>
            </mif:attribute>
            <mif:attribute name="confidentialityCode" sortKey="8" minimumMultiplicity="0"
                           maximumMultiplicity="2"
                           conformance="R"
                           isMandatory="false"
                           isStructural="false">
               <mif:businessName name="H:Allergy/Intolerance Masking Indicators"/>
               <mif:annotations>
                  <mif:definition>
                     <mif:text>
                        <mif:p>
                           <mif:p>Communicates the desire of the patient to restrict access to this Health Condition record. Provides support for additional confidentiality constraint, giving patients a level of control over their information. Methods for accessing masked event records will be governed by each jurisdiction (e.g. court orders, shared secret/consent, etc.). Can also be used to communicate that the information is deemed to be sensitive and should not be communicated or exposed to the patient (at least without the guidance of the authoring or other responsible healthcare provider). Valid values are: 'normal' (denotes 'Not Masked'); 'restricted' (denotes 'Masked'); ‘very restricted’ (denotes ‘Masked by Regulation’); and 'taboo' (denotes 'patient restricted'). The default is 'normal' signifying 'Not Masked'. Either or both of the other codes can be asserted to indicate masking by the patient from providers or masking by a provider from the patient, respectively. 'normal' should never be asserted with one of the other codes.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:definition>
                  <mif:rationale>
                     <mif:text>
                        <mif:p>
                           <mif:p>Provides support for additional confidentiality constraint to reflect the wishes of the patient.</mif:p>
                        </mif:p>
                        <mif:p>
                           <mif:p>Taboo allows the provider to request restricted access to patient or their care giver.</mif:p>
                        </mif:p>
                        <mif:p>
                           <mif:p>Constraint: Can’t have both normal and one of the other codes simultaneously.</mif:p>
                        </mif:p>
                        <mif:p>
                           <mif:p>The attribute is required because even if a jurisdiction doesn't support masking on the way in, it will need to need to communicate masked data returned from other jurisdictions.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:rationale>
               </mif:annotations>
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation"
                                       attributeName="confidentialityCode"/>
               <mif:type name="SET">
                  <supplierBindingArgumentDatatype xmlns="urn:hl7-org:v3/mif" name="CV"/>
               </mif:type>
               <mif:supplierDomainSpecification codingStrength="CNE" valueSetName="x_BasicConfidentialityKind"/>
            </mif:attribute>
            <mif:attribute name="uncertaintyCode" sortKey="9" minimumMultiplicity="1"
                           maximumMultiplicity="1"
                           conformance="R"
                           isMandatory="true"
                           isStructural="false">
               <mif:businessName name="F:Confirmed Indicator"/>
               <mif:annotations>
                  <mif:definition>
                     <mif:text>
                        <mif:p>
                           <mif:p>An indication of the level of confidence/surety placed in the recorded information.</mif:p>
                        </mif:p>
                        <mif:p>
                           <mif:p>The two valid codes are:</mif:p>
                        </mif:p>
                        <mif:p>
                           <mif:p>- U (stated with uncertainty) -Specifies that the author of the act affirms the uncertainty of the act statement. In other words, they know that parts of the act statement are not certain or are inferred. An example of this is an inferred prescription where some order data is inferred from a supply event (i.e. dispense).</mif:p>
                        </mif:p>
                        <mif:p>
                           <mif:p>- N (stated with no assertion of uncertainty) - Specifies that the act statement is made without any explicit expression of certainty/uncertainty. This is the normal statement, meaning that it may not be free of errors and uncertainty may still exist. In healthcare, N is believed to express certainty to the strength possible.</mif:p>
                        </mif:p>
                        <mif:p>
                           <mif:p>An allergy or intolerance record is always used in drug contraindication checking whether the record is U or N.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:definition>
                  <mif:rationale>
                     <mif:text>
                        <mif:p>
                           <mif:p>Helps other providers to make appropriate decisions in their management of allergy or intolerance contraindications.</mif:p>
                        </mif:p>
                        <mif:p>
                           <mif:p>Attribute is mandatory because an allergy or intolerance record must be tagged as either U or N.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:rationale>
               </mif:annotations>
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation"
                                       attributeName="uncertaintyCode"/>
               <mif:type name="CV"/>
               <mif:supplierDomainSpecification codingStrength="CNE" domainName="ActUncertainty"/>
            </mif:attribute>
            <mif:attribute name="value" sortKey="10" minimumMultiplicity="0" maximumMultiplicity="1"
                           isMandatory="false"
                           isStructural="false">
               <mif:businessName name="B:Agent"/>
               <mif:annotations>
                  <mif:definition>
                     <mif:text>
                        <mif:p>
                           <mif:p>Indicates the substance to which the patient is allergic</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:definition>
                  <mif:rationale>
                     <mif:text>
                        <mif:p>
                           <mif:p>Critical for identifying the allergy or intolerance. However, because the attribute is not used for SNOMED, it is optional.</mif:p>
                        </mif:p>
                     </mif:text>
                  </mif:rationale>
                  <mif:constraint>
                     <mif:text>
                        <mif:p>
                           <mif:p>Value is not permitted when using SNOMED, mandatory otherwise</mif:p>
                        </mif:p>
                     </mif:text>
                     <mif:graphicRepresentation>
                        <mif:graphElement shapeId="Sheet.243" containerDiagramName="Main" isWidthAutoSize="true"
                                          isHeightAutoSize="true">
                           <mif:position x="3.096" y="4.366"/>
                           <mif:size width="1.339" height="0.561"/>
                           <mif:anchorage connectToShapeId="Sheet.243">
                              <mif:position x="3.765" y="4.646"/>
                              <mif:graphEdge>
                                 <mif:anchor connectToShapeId="Sheet.1">
                                    <mif:position x="5.971" y="4.745"/>
                                 </mif:anchor>
                              </mif:graphEdge>
                           </mif:anchorage>
                        </mif:graphElement>
                     </mif:graphicRepresentation>
                  </mif:constraint>
               </mif:annotations>
               <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="value"/>
               <mif:type name="CV"/>
               <mif:supplierDomainSpecification codingStrength="CWE" domainName="IntoleranceValue"/>
            </mif:attribute>
            <mif:association sortKey="6">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="9.110" y="3.503"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.259">
                           <mif:position x="9.110" y="3.503"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="responsibleParty" minimumMultiplicity="0" maximumMultiplicity="1"
                                     conformance="R"
                                     isMandatory="false"
                                     sortKey="AC________">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act" associationEndName="participation"/>
                  <mif:participantClass>
                     <mif:class name="ResponsibleParty" isAbstract="false">
                        <mif:businessName name="supervised by"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="Participation"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.259" containerDiagramName="Main" shapeTemplate="Participation"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="Right">
                              <mif:position x="9.110" y="3.406"/>
                              <mif:size width="8.137" height="0.436"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Identity of the provider who is taking responsibility for the actions of the author.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Allows for the trail of responsibility for the action.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="RESP"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ParticipationType" mnemonic="RESP"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AP"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AP"/>
                        </mif:attribute>
                        <mif:association sortKey="63">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.259" containerDiagramName="Main">
                                 <mif:position x="17.247" y="3.745"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.5">
                                       <mif:position x="17.247" y="3.745"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="assignedEntity" minimumMultiplicity="1" maximumMultiplicity="1"
                                                 conformance="R"
                                                 isMandatory="false"
                                                 sortKey="BZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="role"/>
                              <mif:participantClass>
                                 <mif:reference name="R_AssignedPersonIdentified-informational"/>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="ResponsibleParty">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Role" associationEndName="participation"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="act"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
            <mif:association sortKey="7">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="9.110" y="2.883"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.11">
                           <mif:position x="9.110" y="2.883"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="author" minimumMultiplicity="1" maximumMultiplicity="1" conformance="R"
                                     isMandatory="true"
                                     sortKey="AEA_______">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act" associationEndName="participation"/>
                  <mif:participantClass>
                     <mif:class name="Author" isAbstract="false">
                        <mif:businessName name="*f:authored by"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="Participation"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.11" containerDiagramName="Main" shapeTemplate="Participation"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="Right">
                              <mif:position x="9.110" y="2.643"/>
                              <mif:size width="8.137" height="0.569"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Identifies the provider who reported the allergy or intolerance.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Identifies responsibility for accuracy and relevance of the information. This association reflects primary responsibility, and is therefore mandatory.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AUT"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ParticipationType" mnemonic="AUT"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AP"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AP"/>
                        </mif:attribute>
                        <mif:attribute name="time" sortKey="3" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="false"
                                       isStructural="false">
                           <mif:businessName name="Create Timestamp"/>
                           <mif:annotations>
                              <mif:definition>
                                 <mif:text>
                                    <mif:p>
                                       <mif:p>The date and time on which the allergy/intolerance record was created.</mif:p>
                                    </mif:p>
                                 </mif:text>
                              </mif:definition>
                              <mif:rationale>
                                 <mif:text>
                                    <mif:p>
                                       <mif:p>Identifies timing of allergy/intolerance for sorting and for audit purposes. Attribute is populated because the source of the data may not be through the 'record common observation' interaction.</mif:p>
                                    </mif:p>
                                 </mif:text>
                              </mif:rationale>
                           </mif:annotations>
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="time"/>
                           <mif:type name="TS.FULLDATETIME"/>
                        </mif:attribute>
                        <mif:association sortKey="65">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.11" containerDiagramName="Main">
                                 <mif:position x="17.247" y="2.973"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.5">
                                       <mif:position x="17.247" y="2.973"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="assignedEntity" minimumMultiplicity="1" maximumMultiplicity="1"
                                                 conformance="R"
                                                 isMandatory="true"
                                                 sortKey="BZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="role"/>
                              <mif:participantClass>
                                 <mif:commonModelElementRef name="R_AssignedPersonIdentified-informational">
                                    <mif:derivationSupplier staticModelDerivationId="1" className="Role"/>
                                    <mif:supplierStructuralDomain domainName="RoleClass" mnemonic="ASSIGNED"/>
                                    <mif:graphicRepresentation presentation="HL7">
                                       <mif:graphElement shapeId="Sheet.5" containerDiagramName="Main" shapeTemplate="CMET"
                                                         isWidthAutoSize="true"
                                                         isHeightAutoSize="false">
                                          <mif:position x="17.247" y="2.201"/>
                                          <mif:size width="1.420" height="3.860"/>
                                       </mif:graphElement>
                                    </mif:graphicRepresentation>
                                    <mif:generalizationParent name="COCT_MT090108CA"/>
                                 </mif:commonModelElementRef>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="Author">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Role" associationEndName="participation"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="act"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
            <mif:association sortKey="8">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="9.110" y="2.262"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.17">
                           <mif:position x="9.110" y="2.262"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="informant" minimumMultiplicity="0" maximumMultiplicity="1"
                                     conformance="R"
                                     isMandatory="false"
                                     sortKey="AEC_______">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act" associationEndName="participation"/>
                  <mif:participantClass>
                     <mif:class name="Informant" isAbstract="false">
                        <mif:businessName name="d:reported by"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="Participation"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.17" containerDiagramName="Main" shapeTemplate="Participation"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="Right">
                              <mif:position x="9.110" y="1.930"/>
                              <mif:size width="8.012" height="0.569"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Indicates where the information that led to the recording of this information came from. The possible 3 sources of the information are: the patient, the patient's representative or a health-care provider.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>The original source of the information can be important in evaluating its accuracy and importance.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="INF"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ParticipationType" mnemonic="INF"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AP"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AP"/>
                        </mif:attribute>
                        <mif:attribute name="time" sortKey="3" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       isStructural="false">
                           <mif:businessName name="Reported Date"/>
                           <mif:annotations>
                              <mif:definition>
                                 <mif:text>
                                    <mif:p>
                                       <mif:p>The date on which the allergy/intolerance was reported.</mif:p>
                                    </mif:p>
                                 </mif:text>
                              </mif:definition>
                              <mif:rationale>
                                 <mif:text>
                                    <mif:p>
                                       <mif:p>Allows for establishment of timelines between onset date, reported date and recorded date, and is therefore mandatory.</mif:p>
                                    </mif:p>
                                 </mif:text>
                              </mif:rationale>
                           </mif:annotations>
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="time"/>
                           <mif:type name="TS.FULLDATE"/>
                        </mif:attribute>
                        <mif:association sortKey="61">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.17" containerDiagramName="Main">
                                 <mif:position x="17.122" y="2.167"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.219">
                                       <mif:position x="17.122" y="2.167"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="party" minimumMultiplicity="1" maximumMultiplicity="1" conformance="R"
                                                 isMandatory="false"
                                                 sortKey="BZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="role"/>
                              <participantClassSpecialization xmlns="urn:hl7-org:v3/mif" className="R_PatientPersonIdentified-confirmable"
                                                              traversalName="patient"/>
                              <participantClassSpecialization xmlns="urn:hl7-org:v3/mif" className="R_RelatedPersonInformational"
                                                              traversalName="personalRelationship"/>
                              <participantClassSpecialization xmlns="urn:hl7-org:v3/mif" className="R_AssignedPersonIdentified-informational"
                                                              traversalName="assignedEntity"/>
                              <mif:participantClass>
                                 <mif:class name="Party" isAbstract="true">
                                    <mif:derivationSupplier staticModelDerivationId="1" className="Role"/>
                                    <mif:graphicRepresentation presentation="HL7">
                                       <mif:graphElement shapeId="Sheet.219" containerDiagramName="Main" shapeTemplate="Choice"
                                                         isWidthAutoSize="true"
                                                         isHeightAutoSize="true"
                                                         nodeOrientation="Portrait">
                                          <mif:position x="17.122" y="0.445"/>
                                          <mif:size width="1.583" height="5.741"/>
                                       </mif:graphElement>
                                    </mif:graphicRepresentation>
                                    <mif:specializationChild>
                                       <mif:graphicRepresentation>
                                          <mif:graphElement shapeId="Sheet.29" containerDiagramName="Main" shapeTemplate="CMET"
                                                            isWidthAutoSize="true"
                                                            isHeightAutoSize="true">
                                             <mif:position x="17.247" y="0.695"/>
                                             <mif:size width="1.346" height="0.628"/>
                                          </mif:graphElement>
                                       </mif:graphicRepresentation>
                                       <mif:specializedClass>
                                          <mif:commonModelElementRef name="R_PatientPersonIdentified-confirmable">
                                             <mif:derivationSupplier staticModelDerivationId="1" className="Patient"/>
                                             <mif:supplierStructuralDomain domainName="RoleClass" mnemonic="PAT"/>
                                             <mif:graphicRepresentation presentation="HL7">
                                                <mif:graphElement shapeId="Sheet.29" containerDiagramName="Main" shapeTemplate="CMET"
                                                                  isWidthAutoSize="true"
                                                                  isHeightAutoSize="true">
                                                   <mif:position x="17.247" y="0.695"/>
                                                   <mif:size width="1.346" height="0.628"/>
                                                </mif:graphElement>
                                             </mif:graphicRepresentation>
                                             <mif:generalizationParent name="COCT_MT050202CA"/>
                                          </mif:commonModelElementRef>
                                       </mif:specializedClass>
                                    </mif:specializationChild>
                                    <mif:specializationChild>
                                       <mif:graphicRepresentation>
                                          <mif:graphElement shapeId="Sheet.213" containerDiagramName="Main" shapeTemplate="CMET"
                                                            isWidthAutoSize="true"
                                                            isHeightAutoSize="true">
                                             <mif:position x="17.247" y="1.448"/>
                                             <mif:size width="1.103" height="0.628"/>
                                          </mif:graphElement>
                                       </mif:graphicRepresentation>
                                       <mif:specializedClass>
                                          <mif:commonModelElementRef name="R_RelatedPersonInformational">
                                             <mif:derivationSupplier staticModelDerivationId="1" className="Role"/>
                                             <mif:supplierStructuralDomain domainName="RoleClass" mnemonic="REL"/>
                                             <mif:graphicRepresentation presentation="HL7">
                                                <mif:graphElement shapeId="Sheet.213" containerDiagramName="Main" shapeTemplate="CMET"
                                                                  isWidthAutoSize="true"
                                                                  isHeightAutoSize="true">
                                                   <mif:position x="17.247" y="1.448"/>
                                                   <mif:size width="1.103" height="0.628"/>
                                                </mif:graphElement>
                                             </mif:graphicRepresentation>
                                             <mif:generalizationParent name="COCT_MT910107CA"/>
                                          </mif:commonModelElementRef>
                                       </mif:specializedClass>
                                    </mif:specializationChild>
                                    <mif:specializationChild>
                                       <mif:graphicRepresentation>
                                          <mif:graphElement shapeId="Sheet.5" containerDiagramName="Main" shapeTemplate="CMET"
                                                            isWidthAutoSize="true"
                                                            isHeightAutoSize="false">
                                             <mif:position x="17.247" y="2.201"/>
                                             <mif:size width="1.420" height="3.860"/>
                                          </mif:graphElement>
                                       </mif:graphicRepresentation>
                                       <mif:specializedClass>
                                          <mif:reference name="R_AssignedPersonIdentified-informational"/>
                                       </mif:specializedClass>
                                    </mif:specializationChild>
                                 </mif:class>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="Informant">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Role" associationEndName="participation"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="act"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
            <mif:association sortKey="1">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="5.971" y="2.883"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.162">
                           <mif:position x="5.971" y="2.883"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="location" minimumMultiplicity="1" maximumMultiplicity="1" conformance="R"
                                     isMandatory="true"
                                     sortKey="AJ________">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act" associationEndName="participation"/>
                  <mif:participantClass>
                     <mif:class name="Location" isAbstract="false">
                        <mif:businessName name="*i:recorded at"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="Participation"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.162" containerDiagramName="Main" shapeTemplate="Participation"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="Left">
                              <mif:position x="3.617" y="2.469"/>
                              <mif:size width="2.354" height="0.436"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Indicates the service delivery location where the allergy was recorded.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Indicates where records are likely kept for follow-up. May also be useful in understanding the context in which the allergy/intolerance was recorded. The location of entry should always be known, and is therefore mandatory.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="LOC"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ParticipationType" mnemonic="LOC"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AP"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="Participation"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AP"/>
                        </mif:attribute>
                        <mif:association sortKey="15">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.162" containerDiagramName="Main">
                                 <mif:position x="3.700" y="2.491"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.156">
                                       <mif:position x="3.700" y="2.491"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="serviceDeliveryLocation" minimumMultiplicity="1" maximumMultiplicity="1"
                                                 conformance="R"
                                                 isMandatory="true"
                                                 sortKey="BZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="role"/>
                              <mif:participantClass>
                                 <mif:commonModelElementRef name="R_ServiceDeliveryLocationContact">
                                    <mif:derivationSupplier staticModelDerivationId="1" className="Role"/>
                                    <mif:supplierStructuralDomain domainName="RoleClass" mnemonic="SDLOC"/>
                                    <mif:graphicRepresentation presentation="HL7">
                                       <mif:graphElement shapeId="Sheet.156" containerDiagramName="Main" shapeTemplate="CMET"
                                                         isWidthAutoSize="true"
                                                         isHeightAutoSize="true">
                                          <mif:position x="2.094" y="2.366"/>
                                          <mif:size width="1.606" height="0.628"/>
                                       </mif:graphElement>
                                    </mif:graphicRepresentation>
                                    <mif:generalizationParent name="COCT_MT240003CA"/>
                                 </mif:commonModelElementRef>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="Location">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Role" associationEndName="participation"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="act"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
            <mif:association sortKey="10">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="6.285" y="1.021"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.168">
                           <mif:position x="6.285" y="1.021"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="replacementOf" minimumMultiplicity="0" maximumMultiplicity="1"
                                     conformance="R"
                                     isMandatory="false"
                                     sortKey="BBI_______">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                          associationEndName="outboundRelationship"/>
                  <mif:participantClass>
                     <mif:class name="ReplacementOf" isAbstract="false">
                        <mif:businessName name="e:replaces version"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.168" containerDiagramName="Main"
                                             shapeTemplate="ActRelationshipR"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="DownLeft">
                              <mif:position x="3.657" y="1.021"/>
                              <mif:size width="1.285" height="2.314"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>A complete representation of a previous version of the same allergy/intolerance record.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Allows exposing how an allergy/intolerance record has changed over time. Multiple previous versions may be accessed by chaining versions (C replaces version B replaces version A, etc.). Used when the content underwent more than just a status change.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="RPLC"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActRelationshipType" mnemonic="RPLC"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AN"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                        </mif:attribute>
                        <mif:attribute name="contextConductionInd" sortKey="3" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="true"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextConductionInd"/>
                           <mif:type name="BL"/>
                        </mif:attribute>
                        <mif:association sortKey="18">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.168" containerDiagramName="Main">
                                 <mif:position x="5.971" y="1.641"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.1">
                                       <mif:position x="5.971" y="1.641"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="intoleranceCondition" minimumMultiplicity="1" maximumMultiplicity="1"
                                                 conformance="R"
                                                 isMandatory="false"
                                                 sortKey="BZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                      associationEndName="target"/>
                              <mif:participantClass>
                                 <mif:reference name="IntoleranceCondition"/>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="ReplacementOf">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                         associationEndName="inboundRelationship"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                             associationEndName="source"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
            <mif:association sortKey="9">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="7.540" y="7.227"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.45">
                           <mif:position x="7.540" y="7.227"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="support" minimumMultiplicity="0" maximumMultiplicity="20" conformance="R"
                                     isMandatory="false"
                                     sortKey="BDA_______">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                          associationEndName="outboundRelationship"/>
                  <mif:participantClass>
                     <mif:class name="Support" isAbstract="false">
                        <mif:businessName name="*b:supported by"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.45" containerDiagramName="Main" shapeTemplate="ActRelationship"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="Down">
                              <mif:position x="6.398" y="7.227"/>
                              <mif:size width="2.235" height="0.734"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Indicates a particular type of reaction experienced by the patient or testing performed on the patient which provides evidence for the existence (or non-existence) of the allergy/intolerance.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>May help ascertain the severity of the condition, and provide direction for management. Also helps demonstrate the distinction between allergies and intolerances</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="SPRT"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActRelationshipType" mnemonic="SPRT"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AN"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                        </mif:attribute>
                        <mif:attribute name="contextConductionInd" sortKey="3" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="true"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextConductionInd"/>
                           <mif:type name="BL"/>
                        </mif:attribute>
                        <mif:association sortKey="42">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.45" containerDiagramName="Main">
                                 <mif:position x="7.489" y="7.932"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.138">
                                       <mif:position x="7.489" y="7.932"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="records" minimumMultiplicity="1" maximumMultiplicity="1" conformance="R"
                                                 isMandatory="false"
                                                 sortKey="BZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                      associationEndName="target"/>
                              <participantClassSpecialization xmlns="urn:hl7-org:v3/mif" className="CausalityAssessment"
                                                              traversalName="causalityAssessment"/>
                              <participantClassSpecialization xmlns="urn:hl7-org:v3/mif" className="AllergyTestEvent"
                                                              traversalName="allergyTestEvent"/>
                              <mif:participantClass>
                                 <mif:class name="Records" isAbstract="true">
                                    <mif:derivationSupplier staticModelDerivationId="1" className="Act"/>
                                    <mif:graphicRepresentation presentation="HL7">
                                       <mif:graphElement shapeId="Sheet.138" containerDiagramName="Main" shapeTemplate="Choice"
                                                         isWidthAutoSize="true"
                                                         isHeightAutoSize="true"
                                                         nodeOrientation="Portrait">
                                          <mif:position x="5.753" y="7.932"/>
                                          <mif:size width="3.473" height="3.303"/>
                                       </mif:graphElement>
                                    </mif:graphicRepresentation>
                                    <mif:specializationChild>
                                       <mif:graphicRepresentation>
                                          <mif:graphElement shapeId="Sheet.221" containerDiagramName="Main" shapeTemplate="Act"
                                                            isWidthAutoSize="true"
                                                            isHeightAutoSize="false">
                                             <mif:position x="5.878" y="8.182"/>
                                             <mif:size width="3.186" height="1.489"/>
                                          </mif:graphElement>
                                       </mif:graphicRepresentation>
                                       <mif:specializedClass>
                                          <mif:class name="CausalityAssessment" isAbstract="false">
                                             <mif:businessName name="Reported Reactions"/>
                                             <mif:derivationSupplier staticModelDerivationId="1" className="Observation"/>
                                             <mif:graphicRepresentation presentation="HL7">
                                                <mif:graphElement shapeId="Sheet.221" containerDiagramName="Main" shapeTemplate="Act"
                                                                  isWidthAutoSize="true"
                                                                  isHeightAutoSize="false">
                                                   <mif:position x="5.878" y="8.182"/>
                                                   <mif:size width="3.186" height="1.489"/>
                                                </mif:graphElement>
                                             </mif:graphicRepresentation>
                                             <mif:annotations>
                                                <mif:definition>
                                                   <mif:text>
                                                      <mif:p>
                                                         <mif:p>This is a recording of a patient reaction that is believed to be associated with the allergy/intolerance.</mif:p>
                                                      </mif:p>
                                                   </mif:text>
                                                </mif:definition>
                                                <mif:rationale>
                                                   <mif:text>
                                                      <mif:p>
                                                         <mif:p>Helps providers to distinguish between proper allergies and intolerances. Allows the provider recording the allergy to assign appropriate severity to the allergy. May give insight on how to mitigate an intolerance that is likely to be triggered by administering a substance. (E.g. If a given drug typically causes nausea in the patient, an additional medication may be co-prescribed to manage the nausea.)</mif:p>
                                                      </mif:p>
                                                   </mif:text>
                                                </mif:rationale>
                                             </mif:annotations>
                                             <mif:attribute name="classCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="true"
                                                            fixedValue="OBS"
                                                            isStructural="true">
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="classCode"/>
                                                <mif:type name="CS"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActClass" mnemonic="OBS"/>
                                             </mif:attribute>
                                             <mif:attribute name="moodCode" sortKey="2" minimumMultiplicity="1" maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="true"
                                                            fixedValue="EVN"
                                                            isStructural="true">
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="moodCode"/>
                                                <mif:type name="CS"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActMood" mnemonic="EVN"/>
                                             </mif:attribute>
                                             <mif:attribute name="code" sortKey="3" minimumMultiplicity="1" maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="true"
                                                            isStructural="false">
                                                <mif:businessName name="Assessment Type"/>
                                                <mif:annotations>
                                                   <mif:definition>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Indicates the type of assessment being made</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:definition>
                                                   <mif:usageNotes>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>For SNOMED this will include the actual assessment code. For non-SNOMED, this should be fixed to RXNASSESS.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:usageNotes>
                                                   <mif:rationale>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Communicates the relatedness assessment of the exposure to the reaction and is therefore mandatory. For SNOMED this will communicate the full assessment. It is expressed as a CD to allow for SNOMED post-coordination.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:rationale>
                                                   <mif:constraint>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Code must be fixed to RXNASSESS if not using SNOMED</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                      <mif:graphicRepresentation>
                                                         <mif:graphElement shapeId="Sheet.283" containerDiagramName="Main" isWidthAutoSize="true"
                                                                           isHeightAutoSize="true">
                                                            <mif:position x="10.168" y="8.566"/>
                                                            <mif:size width="1.864" height="0.444"/>
                                                            <mif:anchorage connectToShapeId="Sheet.283">
                                                               <mif:position x="11.100" y="8.788"/>
                                                               <mif:graphEdge>
                                                                  <mif:anchor connectToShapeId="Sheet.221">
                                                                     <mif:position x="9.064" y="8.778"/>
                                                                  </mif:anchor>
                                                               </mif:graphEdge>
                                                            </mif:anchorage>
                                                         </mif:graphElement>
                                                      </mif:graphicRepresentation>
                                                   </mif:constraint>
                                                </mif:annotations>
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="code"/>
                                                <mif:type name="CD"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" domainName="ObservationCausalityAssessmentType"/>
                                             </mif:attribute>
                                             <mif:attribute name="statusCode" sortKey="4" minimumMultiplicity="1" maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="true"
                                                            fixedValue="completed"
                                                            isStructural="false">
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="statusCode"/>
                                                <mif:type name="CS"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActStatus" mnemonic="completed"/>
                                             </mif:attribute>
                                             <mif:attribute name="value" sortKey="5" minimumMultiplicity="0" maximumMultiplicity="1"
                                                            isMandatory="false"
                                                            isStructural="false">
                                                <mif:businessName name="Relatedness Assessment"/>
                                                <mif:annotations>
                                                   <mif:definition>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Indicates whether the reaction is deemed to be related to the exposure.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:definition>
                                                   <mif:usageNotes>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>This attribute will not be populated if using SNOMED. Otherwise it should have a fixed value of "RELATED".</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:usageNotes>
                                                   <mif:rationale>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Creates the link between the exposure and the reaction. Because the details of the assessment will be communicated in the 'code' attribute for SNOMED, this element is optional.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:rationale>
                                                   <mif:constraint>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Value is mandatory and fixed to RELATED if not using SNOMED</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                      <mif:graphicRepresentation>
                                                         <mif:graphElement shapeId="Sheet.247" containerDiagramName="Main" isWidthAutoSize="true"
                                                                           isHeightAutoSize="true">
                                                            <mif:position x="9.768" y="9.163"/>
                                                            <mif:size width="1.864" height="0.444"/>
                                                            <mif:anchorage connectToShapeId="Sheet.247">
                                                               <mif:position x="10.700" y="9.385"/>
                                                               <mif:graphEdge>
                                                                  <mif:anchor connectToShapeId="Sheet.221">
                                                                     <mif:position x="9.064" y="8.927"/>
                                                                  </mif:anchor>
                                                               </mif:graphEdge>
                                                            </mif:anchorage>
                                                         </mif:graphElement>
                                                      </mif:graphicRepresentation>
                                                   </mif:constraint>
                                                </mif:annotations>
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="value"/>
                                                <mif:type name="CV"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" domainName="ReactionRelatednessAssessmentObservationValue"/>
                                             </mif:attribute>
                                             <mif:association sortKey="29">
                                                <mif:graphicRepresentation>
                                                   <mif:graphElement connectToShapeId="Sheet.221" containerDiagramName="Main">
                                                      <mif:position x="5.878" y="9.373"/>
                                                      <mif:graphEdge>
                                                         <mif:anchor connectToShapeId="Sheet.225">
                                                            <mif:position x="5.878" y="9.373"/>
                                                         </mif:anchor>
                                                      </mif:graphEdge>
                                                   </mif:graphElement>
                                                </mif:graphicRepresentation>
                                                <mif:targetConnection name="subject" minimumMultiplicity="1" maximumMultiplicity="1" conformance="R"
                                                                      isMandatory="true"
                                                                      sortKey="BDB_______">
                                                   <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                                           associationEndName="outboundRelationship"/>
                                                   <mif:participantClass>
                                                      <mif:class name="Subject6" isAbstract="false">
                                                         <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"/>
                                                         <mif:graphicRepresentation presentation="HL7">
                                                            <mif:graphElement shapeId="Sheet.225" containerDiagramName="Main" shapeTemplate="ActRelationship"
                                                                              textWrappingWidth="66.0"
                                                                              nodeOrientation="Left">
                                                               <mif:position x="3.422" y="9.113"/>
                                                               <mif:size width="2.456" height="0.569"/>
                                                            </mif:graphElement>
                                                         </mif:graphicRepresentation>
                                                         <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                        conformance="R"
                                                                        isMandatory="true"
                                                                        fixedValue="SUBJ"
                                                                        isStructural="true">
                                                            <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                    attributeName="typeCode"/>
                                                            <mif:type name="CS"/>
                                                            <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActRelationshipType" mnemonic="SUBJ"/>
                                                         </mif:attribute>
                                                         <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                                                        maximumMultiplicity="1"
                                                                        conformance="R"
                                                                        isMandatory="true"
                                                                        fixedValue="AN"
                                                                        isStructural="true">
                                                            <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                    attributeName="contextControlCode"/>
                                                            <mif:type name="CS"/>
                                                            <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                                                         </mif:attribute>
                                                         <mif:attribute name="contextConductionInd" sortKey="3" minimumMultiplicity="1"
                                                                        maximumMultiplicity="1"
                                                                        conformance="R"
                                                                        isMandatory="true"
                                                                        fixedValue="true"
                                                                        isStructural="true">
                                                            <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                    attributeName="contextConductionInd"/>
                                                            <mif:type name="BL"/>
                                                         </mif:attribute>
                                                         <mif:association sortKey="28">
                                                            <mif:graphicRepresentation>
                                                               <mif:graphElement connectToShapeId="Sheet.225" containerDiagramName="Main">
                                                                  <mif:position x="3.422" y="9.422"/>
                                                                  <mif:graphEdge>
                                                                     <mif:anchor connectToShapeId="Sheet.41">
                                                                        <mif:position x="3.422" y="9.422"/>
                                                                     </mif:anchor>
                                                                  </mif:graphEdge>
                                                               </mif:graphElement>
                                                            </mif:graphicRepresentation>
                                                            <mif:targetConnection name="observationEvent" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                  conformance="R"
                                                                                  isMandatory="true"
                                                                                  sortKey="BZ">
                                                               <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                       associationEndName="target"/>
                                                               <mif:participantClass>
                                                                  <mif:class name="ObservationEvent" isAbstract="false">
                                                                     <mif:derivationSupplier staticModelDerivationId="1" className="Observation"/>
                                                                     <mif:graphicRepresentation presentation="HL7">
                                                                        <mif:graphElement shapeId="Sheet.41" containerDiagramName="Main" shapeTemplate="Act"
                                                                                          isWidthAutoSize="true"
                                                                                          isHeightAutoSize="true">
                                                                           <mif:position x="0.010" y="9.133"/>
                                                                           <mif:size width="3.412" height="1.448"/>
                                                                        </mif:graphElement>
                                                                     </mif:graphicRepresentation>
                                                                     <mif:attribute name="classCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="true"
                                                                                    fixedValue="OBS"
                                                                                    isStructural="true">
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="classCode"/>
                                                                        <mif:type name="CS"/>
                                                                        <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActClass" mnemonic="OBS"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="moodCode" sortKey="2" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="true"
                                                                                    fixedValue="EVN"
                                                                                    isStructural="true">
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="moodCode"/>
                                                                        <mif:type name="CS"/>
                                                                        <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActMood" mnemonic="EVN"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="id" sortKey="3" minimumMultiplicity="0" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="false"
                                                                                    isStructural="false">
                                                                        <mif:businessName name="C:Reaction Record Id"/>
                                                                        <mif:annotations>
                                                                           <mif:definition>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>An identifier assigned to the record of the adverse reaction.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:definition>
                                                                           <mif:rationale>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Allows for direct referencing of an adverse reaction record which was previously recorded.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:rationale>
                                                                        </mif:annotations>
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="id"/>
                                                                        <mif:type name="II.BUS"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="code" sortKey="4" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="true"
                                                                                    isStructural="false">
                                                                        <mif:businessName name="Diagnosis Type"/>
                                                                        <mif:annotations>
                                                                           <mif:definition>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Indicates the type of diagnosis being captured.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:definition>
                                                                           <mif:usageNotes>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>If using SNOMED, this will contain the diagnosis. Otherwise it will be a fixed value of 'DX'.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:usageNotes>
                                                                           <mif:rationale>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Indicates that the observation is actually a diagnosis and is therefore mandatory. The datatype is CD to support SNOMED post-coordination.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:rationale>
                                                                           <mif:constraint>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Code is fixed to DX if not using SNOMED</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                              <mif:graphicRepresentation>
                                                                                 <mif:graphElement shapeId="Sheet.295" containerDiagramName="Main" isWidthAutoSize="true"
                                                                                                   isHeightAutoSize="true">
                                                                                    <mif:position x="0.330" y="5.066"/>
                                                                                    <mif:size width="1.339" height="0.444"/>
                                                                                    <mif:anchorage connectToShapeId="Sheet.295">
                                                                                       <mif:position x="1.000" y="5.288"/>
                                                                                       <mif:graphEdge>
                                                                                          <mif:anchor connectToShapeId="Sheet.41">
                                                                                             <mif:position x="0.351" y="9.133"/>
                                                                                          </mif:anchor>
                                                                                       </mif:graphEdge>
                                                                                    </mif:anchorage>
                                                                                 </mif:graphElement>
                                                                              </mif:graphicRepresentation>
                                                                           </mif:constraint>
                                                                        </mif:annotations>
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="code"/>
                                                                        <mif:type name="CD"/>
                                                                        <mif:supplierDomainSpecification codingStrength="CNE" domainName="ActDiagnosisCode"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="negationInd" sortKey="5" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="true"
                                                                                    defaultValue="false"
                                                                                    isStructural="true">
                                                                        <mif:businessName name="D:No reaction occurred"/>
                                                                        <mif:annotations>
                                                                           <mif:definition>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Indicates that there was no adverse reaction when the patient was exposed to the agent to which an allergy/intolerance has been recorded.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:definition>
                                                                           <mif:rationale>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Allows providers to confirm or eliminate specific agents as being the cause for the allergy/intolerance. E.g. If a reaction is recorded for Tylenol 3, but no reaction is recorded for regular Tylenol or for coffee, this suggests that the likely cause of the allergy is Codeine.</mif:p>
                                                                                 </mif:p>
                                                                                 <mif:p>
                                                                                    <mif:p>Because it is essential to know whether the record reflects a reaction that did or did not occur, this attribute is mandatory.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:rationale>
                                                                        </mif:annotations>
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="negationInd"/>
                                                                        <mif:type name="BL"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="text" sortKey="6" minimumMultiplicity="0" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="false"
                                                                                    maximumLength="2000"
                                                                                    isStructural="false">
                                                                        <mif:businessName name="G:Description"/>
                                                                        <mif:annotations>
                                                                           <mif:definition>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>A free form description of the reaction.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:definition>
                                                                           <mif:rationale>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Allows for flexibility in the recording and reporting of the reaction.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:rationale>
                                                                        </mif:annotations>
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="text"/>
                                                                        <mif:type name="ST"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="statusCode" sortKey="7" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="true"
                                                                                    fixedValue="completed"
                                                                                    isStructural="false">
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="statusCode"/>
                                                                        <mif:type name="CS"/>
                                                                        <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActStatus" mnemonic="completed"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="effectiveTime" sortKey="8" minimumMultiplicity="0"
                                                                                    maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="false"
                                                                                    isStructural="false">
                                                                        <mif:businessName name="F:Reaction Onset Date"/>
                                                                        <mif:annotations>
                                                                           <mif:definition>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>The date on which the reaction occurrence began.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:definition>
                                                                           <mif:rationale>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Indicates when evidence of the condition first appeared. May also provide information on the duration of the reaction.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:rationale>
                                                                        </mif:annotations>
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="Observation"
                                                                                                attributeName="effectiveTime"/>
                                                                        <mif:type name="IVL.LOW">
                                                                           <supplierBindingArgumentDatatype xmlns="urn:hl7-org:v3/mif" name="TS.DATE"/>
                                                                        </mif:type>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="value" sortKey="9" minimumMultiplicity="0" maximumMultiplicity="1"
                                                                                    isMandatory="false"
                                                                                    isStructural="false">
                                                                        <mif:businessName name="B:Reaction"/>
                                                                        <mif:annotations>
                                                                           <mif:definition>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Specifies the kind of reaction, as experienced by the patient.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:definition>
                                                                           <mif:rationale>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Ensures consistency in tracking and categorizing the reaction type. Helps ensure that only proper allergies are categorized as allergy. The attribute is optional because it will not be used for SNOMED. The attribute is CWE because not all possible types of reactions are expressible by coded values.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:rationale>
                                                                           <mif:constraint>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Value is required if not using SNOMED</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                              <mif:graphicRepresentation>
                                                                                 <mif:graphElement shapeId="Sheet.255" containerDiagramName="Main" isWidthAutoSize="true"
                                                                                                   isHeightAutoSize="true">
                                                                                    <mif:position x="3.700" y="10.021"/>
                                                                                    <mif:size width="1.806" height="0.444"/>
                                                                                    <mif:anchorage connectToShapeId="Sheet.255">
                                                                                       <mif:position x="4.603" y="10.243"/>
                                                                                       <mif:graphEdge>
                                                                                          <mif:anchor connectToShapeId="Sheet.41">
                                                                                             <mif:position x="3.422" y="10.146"/>
                                                                                          </mif:anchor>
                                                                                       </mif:graphEdge>
                                                                                    </mif:anchorage>
                                                                                 </mif:graphElement>
                                                                              </mif:graphicRepresentation>
                                                                           </mif:constraint>
                                                                        </mif:annotations>
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="value"/>
                                                                        <mif:type name="CV"/>
                                                                        <mif:supplierDomainSpecification codingStrength="CWE" domainName="SubjectReaction"/>
                                                                     </mif:attribute>
                                                                     <mif:association sortKey="26">
                                                                        <mif:graphicRepresentation>
                                                                           <mif:graphElement connectToShapeId="Sheet.41" containerDiagramName="Main">
                                                                              <mif:position x="1.716" y="10.581"/>
                                                                              <mif:graphEdge>
                                                                                 <mif:anchor connectToShapeId="Sheet.94">
                                                                                    <mif:position x="1.716" y="10.581"/>
                                                                                 </mif:anchor>
                                                                              </mif:graphEdge>
                                                                           </mif:graphElement>
                                                                        </mif:graphicRepresentation>
                                                                        <mif:targetConnection name="subjectOf" minimumMultiplicity="0" maximumMultiplicity="1"
                                                                                              isMandatory="false"
                                                                                              sortKey="CDB_______">
                                                                           <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                                                                   associationEndName="inboundRelationship"/>
                                                                           <mif:participantClass>
                                                                              <mif:class name="Subject" isAbstract="false">
                                                                                 <mif:businessName name="has severity level"/>
                                                                                 <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"/>
                                                                                 <mif:graphicRepresentation presentation="HL7">
                                                                                    <mif:graphElement shapeId="Sheet.94" containerDiagramName="Main" shapeTemplate="ActRelationship"
                                                                                                      textWrappingWidth="66.0"
                                                                                                      nodeOrientation="Up">
                                                                                       <mif:position x="0.512" y="10.571"/>
                                                                                       <mif:size width="2.314" height="0.734"/>
                                                                                    </mif:graphElement>
                                                                                 </mif:graphicRepresentation>
                                                                                 <mif:annotations>
                                                                                    <mif:definition>
                                                                                       <mif:text>
                                                                                          <mif:p>
                                                                                             <mif:p>An indication of the severity of the reaction.</mif:p>
                                                                                          </mif:p>
                                                                                       </mif:text>
                                                                                    </mif:definition>
                                                                                    <mif:rationale>
                                                                                       <mif:text>
                                                                                          <mif:p>
                                                                                             <mif:p>Allows providers to evaluate the significance of the allergy or intolerance. Because severity is pre-coordinated with code for SNOMED, this association is optional.</mif:p>
                                                                                          </mif:p>
                                                                                       </mif:text>
                                                                                    </mif:rationale>
                                                                                    <mif:constraint>
                                                                                       <mif:text>
                                                                                          <mif:p>
                                                                                             <mif:p>Not permitted if using SNOMED.</mif:p>
                                                                                          </mif:p>
                                                                                       </mif:text>
                                                                                       <mif:graphicRepresentation>
                                                                                          <mif:graphElement shapeId="Sheet.235" containerDiagramName="Main" isWidthAutoSize="true"
                                                                                                            isHeightAutoSize="true">
                                                                                             <mif:position x="3.496" y="11.524"/>
                                                                                             <mif:size width="1.339" height="0.444"/>
                                                                                             <mif:anchorage connectToShapeId="Sheet.235">
                                                                                                <mif:position x="4.165" y="11.746"/>
                                                                                                <mif:graphEdge>
                                                                                                   <mif:anchor connectToShapeId="Sheet.94">
                                                                                                      <mif:position x="2.826" y="11.001"/>
                                                                                                   </mif:anchor>
                                                                                                </mif:graphEdge>
                                                                                             </mif:anchorage>
                                                                                          </mif:graphElement>
                                                                                       </mif:graphicRepresentation>
                                                                                    </mif:constraint>
                                                                                 </mif:annotations>
                                                                                 <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                                conformance="R"
                                                                                                isMandatory="true"
                                                                                                fixedValue="SUBJ"
                                                                                                isStructural="true">
                                                                                    <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                                            attributeName="typeCode"/>
                                                                                    <mif:type name="CS"/>
                                                                                    <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActRelationshipType" mnemonic="SUBJ"/>
                                                                                 </mif:attribute>
                                                                                 <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                                                                                maximumMultiplicity="1"
                                                                                                conformance="R"
                                                                                                isMandatory="true"
                                                                                                fixedValue="AN"
                                                                                                isStructural="true">
                                                                                    <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                                            attributeName="contextControlCode"/>
                                                                                    <mif:type name="CS"/>
                                                                                    <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                                                                                 </mif:attribute>
                                                                                 <mif:attribute name="contextConductionInd" sortKey="3" minimumMultiplicity="1"
                                                                                                maximumMultiplicity="1"
                                                                                                conformance="R"
                                                                                                isMandatory="true"
                                                                                                fixedValue="false"
                                                                                                isStructural="true">
                                                                                    <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                                            attributeName="contextConductionInd"/>
                                                                                    <mif:type name="BL"/>
                                                                                 </mif:attribute>
                                                                                 <mif:association sortKey="23">
                                                                                    <mif:graphicRepresentation>
                                                                                       <mif:graphElement connectToShapeId="Sheet.94" containerDiagramName="Main">
                                                                                          <mif:position x="1.622" y="11.306"/>
                                                                                          <mif:graphEdge>
                                                                                             <mif:anchor connectToShapeId="Sheet.231">
                                                                                                <mif:position x="1.622" y="11.306"/>
                                                                                             </mif:anchor>
                                                                                          </mif:graphEdge>
                                                                                       </mif:graphElement>
                                                                                    </mif:graphicRepresentation>
                                                                                    <mif:targetConnection name="severityObservation" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                                          isMandatory="false"
                                                                                                          sortKey="AZ">
                                                                                       <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                                               associationEndName="source"/>
                                                                                       <mif:participantClass>
                                                                                          <mif:reference name="SeverityObservation"/>
                                                                                       </mif:participantClass>
                                                                                    </mif:targetConnection>
                                                                                    <mif:sourceConnection>
                                                                                       <mif:nonTraversableConnection participantClassName="Subject">
                                                                                          <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                                                                                  associationEndName="outboundRelationship"/>
                                                                                       </mif:nonTraversableConnection>
                                                                                    </mif:sourceConnection>
                                                                                 </mif:association>
                                                                              </mif:class>
                                                                           </mif:participantClass>
                                                                        </mif:targetConnection>
                                                                        <mif:sourceConnection>
                                                                           <mif:nonTraversableConnection participantClassName="ObservationEvent">
                                                                              <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                                      associationEndName="target"/>
                                                                           </mif:nonTraversableConnection>
                                                                        </mif:sourceConnection>
                                                                     </mif:association>
                                                                  </mif:class>
                                                               </mif:participantClass>
                                                            </mif:targetConnection>
                                                            <mif:sourceConnection>
                                                               <mif:nonTraversableConnection participantClassName="Subject6">
                                                                  <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                                                          associationEndName="inboundRelationship"/>
                                                               </mif:nonTraversableConnection>
                                                            </mif:sourceConnection>
                                                         </mif:association>
                                                      </mif:class>
                                                   </mif:participantClass>
                                                </mif:targetConnection>
                                                <mif:sourceConnection>
                                                   <mif:nonTraversableConnection participantClassName="CausalityAssessment">
                                                      <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                              associationEndName="source"/>
                                                   </mif:nonTraversableConnection>
                                                </mif:sourceConnection>
                                             </mif:association>
                                             <mif:association sortKey="30">
                                                <mif:graphicRepresentation>
                                                   <mif:graphElement connectToShapeId="Sheet.221" containerDiagramName="Main">
                                                      <mif:position x="5.878" y="8.480"/>
                                                      <mif:graphEdge>
                                                         <mif:anchor connectToShapeId="Sheet.104">
                                                            <mif:position x="5.878" y="8.480"/>
                                                         </mif:anchor>
                                                      </mif:graphEdge>
                                                   </mif:graphElement>
                                                </mif:graphicRepresentation>
                                                <mif:targetConnection name="startsAfterStartOf" minimumMultiplicity="0" maximumMultiplicity="1"
                                                                      conformance="R"
                                                                      isMandatory="false"
                                                                      sortKey="BDNA______">
                                                   <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                                           associationEndName="outboundRelationship"/>
                                                   <mif:participantClass>
                                                      <mif:class name="StartsAfterStartOf" isAbstract="false">
                                                         <mif:businessName name="caused by exposure to"/>
                                                         <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"/>
                                                         <mif:graphicRepresentation presentation="HL7">
                                                            <mif:graphElement shapeId="Sheet.104" containerDiagramName="Main" shapeTemplate="ActRelationship"
                                                                              textWrappingWidth="66.0"
                                                                              nodeOrientation="Left">
                                                               <mif:position x="3.389" y="8.224"/>
                                                               <mif:size width="2.489" height="0.569"/>
                                                            </mif:graphElement>
                                                         </mif:graphicRepresentation>
                                                         <mif:annotations>
                                                            <mif:definition>
                                                               <mif:text>
                                                                  <mif:p>
                                                                     <mif:p>Indicates the agent that is believed to have caused the adverse reaction.</mif:p>
                                                                  </mif:p>
                                                               </mif:text>
                                                            </mif:definition>
                                                            <mif:rationale>
                                                               <mif:text>
                                                                  <mif:p>
                                                                     <mif:p>Provides support for the agent identified as the allergen/intolerance source.</mif:p>
                                                                  </mif:p>
                                                               </mif:text>
                                                            </mif:rationale>
                                                         </mif:annotations>
                                                         <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                        conformance="R"
                                                                        isMandatory="true"
                                                                        fixedValue="SAS"
                                                                        isStructural="true">
                                                            <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                    attributeName="typeCode"/>
                                                            <mif:type name="CS"/>
                                                            <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActRelationshipType" mnemonic="SAS"/>
                                                         </mif:attribute>
                                                         <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                                                        maximumMultiplicity="1"
                                                                        conformance="R"
                                                                        isMandatory="true"
                                                                        fixedValue="AN"
                                                                        isStructural="true">
                                                            <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                    attributeName="contextControlCode"/>
                                                            <mif:type name="CS"/>
                                                            <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                                                         </mif:attribute>
                                                         <mif:attribute name="contextConductionInd" sortKey="3" minimumMultiplicity="1"
                                                                        maximumMultiplicity="1"
                                                                        conformance="R"
                                                                        isMandatory="true"
                                                                        fixedValue="true"
                                                                        isStructural="true">
                                                            <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                    attributeName="contextConductionInd"/>
                                                            <mif:type name="BL"/>
                                                         </mif:attribute>
                                                         <mif:association sortKey="32">
                                                            <mif:graphicRepresentation>
                                                               <mif:graphElement connectToShapeId="Sheet.104" containerDiagramName="Main">
                                                                  <mif:position x="3.389" y="8.538"/>
                                                                  <mif:graphEdge>
                                                                     <mif:anchor connectToShapeId="Sheet.110">
                                                                        <mif:position x="3.389" y="8.538"/>
                                                                     </mif:anchor>
                                                                  </mif:graphEdge>
                                                               </mif:graphElement>
                                                            </mif:graphicRepresentation>
                                                            <mif:targetConnection name="exposureEvent" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                  conformance="R"
                                                                                  isMandatory="false"
                                                                                  sortKey="BZ">
                                                               <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                                       associationEndName="target"/>
                                                               <mif:participantClass>
                                                                  <mif:class name="ExposureEvent" isAbstract="false">
                                                                     <mif:businessName name="Exposures"/>
                                                                     <mif:derivationSupplier staticModelDerivationId="1" className="SubstanceAdministration"/>
                                                                     <mif:graphicRepresentation presentation="HL7">
                                                                        <mif:graphElement shapeId="Sheet.110" containerDiagramName="Main" shapeTemplate="Act"
                                                                                          isWidthAutoSize="true"
                                                                                          isHeightAutoSize="true">
                                                                           <mif:position x="0.740" y="8.081"/>
                                                                           <mif:size width="2.649" height="0.914"/>
                                                                        </mif:graphElement>
                                                                     </mif:graphicRepresentation>
                                                                     <mif:annotations>
                                                                        <mif:definition>
                                                                           <mif:text>
                                                                              <mif:p>
                                                                                 <mif:p>Incidence of the patient's exposure to (or contact with) with some material that might have caused the adverse reaction.</mif:p>
                                                                              </mif:p>
                                                                              <mif:p>
                                                                                 <mif:p>Examples of exposures include: Administering a substance (drug, food, etc) to the patient, Patient coming into contact with an environmental material, etc.</mif:p>
                                                                              </mif:p>
                                                                           </mif:text>
                                                                        </mif:definition>
                                                                        <mif:rationale>
                                                                           <mif:text>
                                                                              <mif:p>
                                                                                 <mif:p>Communicates the cause of the adverse reaction.</mif:p>
                                                                              </mif:p>
                                                                           </mif:text>
                                                                        </mif:rationale>
                                                                     </mif:annotations>
                                                                     <mif:attribute name="classCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="true"
                                                                                    fixedValue="SBADM"
                                                                                    isStructural="true">
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="SubstanceAdministration"
                                                                                                attributeName="classCode"/>
                                                                        <mif:type name="CS"/>
                                                                        <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActClass" mnemonic="SBADM"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="moodCode" sortKey="2" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="true"
                                                                                    fixedValue="EVN"
                                                                                    isStructural="true">
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="SubstanceAdministration"
                                                                                                attributeName="moodCode"/>
                                                                        <mif:type name="CS"/>
                                                                        <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActMood" mnemonic="EVN"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="id" sortKey="3" minimumMultiplicity="0" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="false"
                                                                                    isStructural="false">
                                                                        <mif:businessName name="B:Incidence Identifier"/>
                                                                        <mif:annotations>
                                                                           <mif:definition>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Identifier of the exposure event that caused the adverse reaction. This could be an identifier for a prescription, immunization, or other active medication record.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:definition>
                                                                           <mif:rationale>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Allows for drilling down to retrieve further information about the exposure</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:rationale>
                                                                        </mif:annotations>
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="SubstanceAdministration"
                                                                                                attributeName="id"/>
                                                                        <mif:type name="II.BUS"/>
                                                                     </mif:attribute>
                                                                     <mif:attribute name="routeCode" sortKey="4" minimumMultiplicity="0" maximumMultiplicity="1"
                                                                                    conformance="R"
                                                                                    isMandatory="false"
                                                                                    isStructural="false">
                                                                        <mif:businessName name="C:Exposure Method"/>
                                                                        <mif:annotations>
                                                                           <mif:definition>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>The method by which the patient was exposed to the substance.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:definition>
                                                                           <mif:rationale>
                                                                              <mif:text>
                                                                                 <mif:p>
                                                                                    <mif:p>Helps evaluate the cause of the reaction.</mif:p>
                                                                                 </mif:p>
                                                                              </mif:text>
                                                                           </mif:rationale>
                                                                        </mif:annotations>
                                                                        <mif:derivationSupplier staticModelDerivationId="1" className="SubstanceAdministration"
                                                                                                attributeName="routeCode"/>
                                                                        <mif:type name="CV"/>
                                                                        <mif:supplierDomainSpecification codingStrength="CNE" domainName="RouteOfAdministration"/>
                                                                     </mif:attribute>
                                                                     <mif:association sortKey="34">
                                                                        <mif:graphicRepresentation>
                                                                           <mif:graphElement connectToShapeId="Sheet.110" containerDiagramName="Main">
                                                                              <mif:position x="2.065" y="8.081"/>
                                                                              <mif:graphEdge>
                                                                                 <mif:anchor connectToShapeId="Sheet.114">
                                                                                    <mif:position x="2.065" y="8.081"/>
                                                                                 </mif:anchor>
                                                                              </mif:graphEdge>
                                                                           </mif:graphElement>
                                                                        </mif:graphicRepresentation>
                                                                        <mif:targetConnection name="consumable" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                              conformance="R"
                                                                                              isMandatory="true"
                                                                                              sortKey="AAE_______">
                                                                           <mif:derivationSupplier staticModelDerivationId="1" className="Act" associationEndName="participation"/>
                                                                           <mif:participantClass>
                                                                              <mif:class name="Consumable" isAbstract="false">
                                                                                 <mif:businessName name="involved"/>
                                                                                 <mif:derivationSupplier staticModelDerivationId="1" className="Participation"/>
                                                                                 <mif:graphicRepresentation presentation="HL7">
                                                                                    <mif:graphElement shapeId="Sheet.114" containerDiagramName="Main" shapeTemplate="Participation"
                                                                                                      textWrappingWidth="66.0"
                                                                                                      nodeOrientation="Up">
                                                                                       <mif:position x="0.967" y="7.381"/>
                                                                                       <mif:size width="2.235" height="0.700"/>
                                                                                    </mif:graphElement>
                                                                                 </mif:graphicRepresentation>
                                                                                 <mif:annotations>
                                                                                    <mif:definition>
                                                                                       <mif:text>
                                                                                          <mif:p>
                                                                                             <mif:p>Indicates the specific substance involved in the incidence that caused the reaction.</mif:p>
                                                                                          </mif:p>
                                                                                       </mif:text>
                                                                                    </mif:definition>
                                                                                    <mif:rationale>
                                                                                       <mif:text>
                                                                                          <mif:p>
                                                                                             <mif:p>Identification of offending substance is needed for management of the reaction.</mif:p>
                                                                                          </mif:p>
                                                                                       </mif:text>
                                                                                    </mif:rationale>
                                                                                 </mif:annotations>
                                                                                 <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                                conformance="R"
                                                                                                isMandatory="true"
                                                                                                fixedValue="CSM"
                                                                                                isStructural="true">
                                                                                    <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="typeCode"/>
                                                                                    <mif:type name="CS"/>
                                                                                    <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ParticipationType" mnemonic="CSM"/>
                                                                                 </mif:attribute>
                                                                                 <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                                                                                maximumMultiplicity="1"
                                                                                                conformance="R"
                                                                                                isMandatory="true"
                                                                                                fixedValue="AN"
                                                                                                isStructural="true">
                                                                                    <mif:derivationSupplier staticModelDerivationId="1" className="Participation"
                                                                                                            attributeName="contextControlCode"/>
                                                                                    <mif:type name="CS"/>
                                                                                    <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                                                                                 </mif:attribute>
                                                                                 <mif:association sortKey="36">
                                                                                    <mif:graphicRepresentation>
                                                                                       <mif:graphElement connectToShapeId="Sheet.114" containerDiagramName="Main">
                                                                                          <mif:position x="2.104" y="7.381"/>
                                                                                          <mif:graphEdge>
                                                                                             <mif:anchor connectToShapeId="Sheet.120">
                                                                                                <mif:position x="2.104" y="7.381"/>
                                                                                             </mif:anchor>
                                                                                          </mif:graphEdge>
                                                                                       </mif:graphElement>
                                                                                    </mif:graphicRepresentation>
                                                                                    <mif:targetConnection name="administerableMaterial" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                                          conformance="R"
                                                                                                          isMandatory="true"
                                                                                                          sortKey="BZ">
                                                                                       <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="role"/>
                                                                                       <mif:participantClass>
                                                                                          <mif:class name="AdministerableMaterial" isAbstract="false">
                                                                                             <mif:businessName name="Exposed Material"/>
                                                                                             <mif:derivationSupplier staticModelDerivationId="1" className="Role"/>
                                                                                             <mif:graphicRepresentation presentation="HL7">
                                                                                                <mif:graphElement shapeId="Sheet.120" containerDiagramName="Main" shapeTemplate="Role"
                                                                                                                  isWidthAutoSize="true"
                                                                                                                  isHeightAutoSize="true">
                                                                                                   <mif:position x="1.299" y="6.881"/>
                                                                                                   <mif:size width="1.612" height="0.500"/>
                                                                                                </mif:graphElement>
                                                                                             </mif:graphicRepresentation>
                                                                                             <mif:annotations>
                                                                                                <mif:definition>
                                                                                                   <mif:text>
                                                                                                      <mif:p>
                                                                                                         <mif:p>A specific material or agent that to which the patient was exposed. Examples are: Codein (Drug), Peanut (Food), etc.</mif:p>
                                                                                                      </mif:p>
                                                                                                   </mif:text>
                                                                                                </mif:definition>
                                                                                                <mif:rationale>
                                                                                                   <mif:text>
                                                                                                      <mif:p>
                                                                                                         <mif:p>Allows the provider to zero in on specific culprits for the adverse reaction.</mif:p>
                                                                                                      </mif:p>
                                                                                                   </mif:text>
                                                                                                </mif:rationale>
                                                                                             </mif:annotations>
                                                                                             <mif:attribute name="classCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                                            conformance="R"
                                                                                                            isMandatory="true"
                                                                                                            fixedValue="ADMM"
                                                                                                            isStructural="true">
                                                                                                <mif:derivationSupplier staticModelDerivationId="1" className="Role" attributeName="classCode"/>
                                                                                                <mif:type name="CS"/>
                                                                                                <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="RoleClass" mnemonic="ADMM"/>
                                                                                             </mif:attribute>
                                                                                             <mif:association sortKey="37">
                                                                                                <mif:graphicRepresentation>
                                                                                                   <mif:graphElement connectToShapeId="Sheet.120" containerDiagramName="Main">
                                                                                                      <mif:position x="2.749" y="7.331"/>
                                                                                                      <mif:graphEdge>
                                                                                                         <mif:anchor connectToShapeId="Sheet.130">
                                                                                                            <mif:position x="3.248" y="6.578"/>
                                                                                                         </mif:anchor>
                                                                                                      </mif:graphEdge>
                                                                                                   </mif:graphElement>
                                                                                                </mif:graphicRepresentation>
                                                                                                <mif:targetConnection name="administerableMaterialKind" minimumMultiplicity="1"
                                                                                                                      maximumMultiplicity="1"
                                                                                                                      conformance="R"
                                                                                                                      isMandatory="true"
                                                                                                                      sortKey="AZ">
                                                                                                   <mif:derivationSupplier staticModelDerivationId="1" className="Role" associationEndName="player"/>
                                                                                                   <mif:participantClass>
                                                                                                      <mif:class name="MaterialKind" isAbstract="false">
                                                                                                         <mif:businessName name="Agent Category"/>
                                                                                                         <mif:derivationSupplier staticModelDerivationId="1" className="Material"/>
                                                                                                         <mif:graphicRepresentation presentation="HL7">
                                                                                                            <mif:graphElement shapeId="Sheet.130" containerDiagramName="Main" shapeTemplate="Entity"
                                                                                                                              isWidthAutoSize="true"
                                                                                                                              isHeightAutoSize="true">
                                                                                                               <mif:position x="1.326" y="5.797"/>
                                                                                                               <mif:size width="2.563" height="0.781"/>
                                                                                                            </mif:graphElement>
                                                                                                         </mif:graphicRepresentation>
                                                                                                         <mif:annotations>
                                                                                                            <mif:definition>
                                                                                                               <mif:text>
                                                                                                                  <mif:p>
                                                                                                                     <mif:p>Category of material or agent to which the patient was exposed.</mif:p>
                                                                                                                  </mif:p>
                                                                                                               </mif:text>
                                                                                                            </mif:definition>
                                                                                                            <mif:rationale>
                                                                                                               <mif:text>
                                                                                                                  <mif:p>
                                                                                                                     <mif:p>Allows exposed materials or agents to be collectively referenced.</mif:p>
                                                                                                                  </mif:p>
                                                                                                               </mif:text>
                                                                                                            </mif:rationale>
                                                                                                         </mif:annotations>
                                                                                                         <mif:attribute name="classCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                                                        conformance="R"
                                                                                                                        isMandatory="true"
                                                                                                                        fixedValue="MAT"
                                                                                                                        isStructural="true">
                                                                                                            <mif:derivationSupplier staticModelDerivationId="1" className="Material" attributeName="classCode"/>
                                                                                                            <mif:type name="CS"/>
                                                                                                            <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="EntityClass" mnemonic="MAT"/>
                                                                                                         </mif:attribute>
                                                                                                         <mif:attribute name="determinerCode" sortKey="2" minimumMultiplicity="1"
                                                                                                                        maximumMultiplicity="1"
                                                                                                                        conformance="R"
                                                                                                                        isMandatory="true"
                                                                                                                        fixedValue="KIND"
                                                                                                                        isStructural="true">
                                                                                                            <mif:derivationSupplier staticModelDerivationId="1" className="Material" attributeName="determinerCode"/>
                                                                                                            <mif:type name="CS"/>
                                                                                                            <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="EntityDeterminer" mnemonic="KIND"/>
                                                                                                         </mif:attribute>
                                                                                                         <mif:attribute name="code" sortKey="3" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                                                                        conformance="R"
                                                                                                                        isMandatory="false"
                                                                                                                        isStructural="false">
                                                                                                            <mif:businessName name="A:Exposed Material Type"/>
                                                                                                            <mif:annotations>
                                                                                                               <mif:definition>
                                                                                                                  <mif:text>
                                                                                                                     <mif:p>
                                                                                                                        <mif:p>Indicates the type of agent that the patient was exposed to which caused the adverse reaction. This includes Drug, Food, Latex, Dust, etc.</mif:p>
                                                                                                                     </mif:p>
                                                                                                                  </mif:text>
                                                                                                               </mif:definition>
                                                                                                               <mif:rationale>
                                                                                                                  <mif:text>
                                                                                                                     <mif:p>
                                                                                                                        <mif:p>Allows different kinds of reaction agents to be distinguished. Coding strength is set to CWE because the exposure agent type may not always be codified. The attribute is populated because there is little point in communicating about the exposure to an agent if it is not known what the agent is, however it may not always be coded.</mif:p>
                                                                                                                     </mif:p>
                                                                                                                  </mif:text>
                                                                                                               </mif:rationale>
                                                                                                            </mif:annotations>
                                                                                                            <mif:derivationSupplier staticModelDerivationId="1" className="Material" attributeName="code"/>
                                                                                                            <mif:type name="CV"/>
                                                                                                            <mif:supplierDomainSpecification codingStrength="CWE" domainName="ExposureAgentEntityType"/>
                                                                                                         </mif:attribute>
                                                                                                      </mif:class>
                                                                                                   </mif:participantClass>
                                                                                                </mif:targetConnection>
                                                                                                <mif:sourceConnection>
                                                                                                   <mif:nonTraversableConnection participantClassName="AdministerableMaterial">
                                                                                                      <mif:derivationSupplier staticModelDerivationId="1" className="Entity" associationEndName="playedRole"/>
                                                                                                   </mif:nonTraversableConnection>
                                                                                                </mif:sourceConnection>
                                                                                             </mif:association>
                                                                                          </mif:class>
                                                                                       </mif:participantClass>
                                                                                    </mif:targetConnection>
                                                                                    <mif:sourceConnection>
                                                                                       <mif:nonTraversableConnection participantClassName="Consumable">
                                                                                          <mif:derivationSupplier staticModelDerivationId="1" className="Role" associationEndName="participation"/>
                                                                                       </mif:nonTraversableConnection>
                                                                                    </mif:sourceConnection>
                                                                                 </mif:association>
                                                                              </mif:class>
                                                                           </mif:participantClass>
                                                                        </mif:targetConnection>
                                                                        <mif:sourceConnection>
                                                                           <mif:nonTraversableConnection participantClassName="ExposureEvent">
                                                                              <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="act"/>
                                                                           </mif:nonTraversableConnection>
                                                                        </mif:sourceConnection>
                                                                     </mif:association>
                                                                  </mif:class>
                                                               </mif:participantClass>
                                                            </mif:targetConnection>
                                                            <mif:sourceConnection>
                                                               <mif:nonTraversableConnection participantClassName="StartsAfterStartOf">
                                                                  <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                                                          associationEndName="inboundRelationship"/>
                                                               </mif:nonTraversableConnection>
                                                            </mif:sourceConnection>
                                                         </mif:association>
                                                      </mif:class>
                                                   </mif:participantClass>
                                                </mif:targetConnection>
                                                <mif:sourceConnection>
                                                   <mif:nonTraversableConnection participantClassName="CausalityAssessment">
                                                      <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                                              associationEndName="source"/>
                                                   </mif:nonTraversableConnection>
                                                </mif:sourceConnection>
                                             </mif:association>
                                          </mif:class>
                                       </mif:specializedClass>
                                    </mif:specializationChild>
                                    <mif:specializationChild>
                                       <mif:graphicRepresentation>
                                          <mif:graphElement shapeId="Sheet.134" containerDiagramName="Main" shapeTemplate="Act"
                                                            isWidthAutoSize="true"
                                                            isHeightAutoSize="true">
                                             <mif:position x="5.878" y="9.796"/>
                                             <mif:size width="3.223" height="1.314"/>
                                          </mif:graphElement>
                                       </mif:graphicRepresentation>
                                       <mif:specializedClass>
                                          <mif:class name="AllergyTestEvent" isAbstract="false">
                                             <mif:businessName name="Allergy Tests"/>
                                             <mif:derivationSupplier staticModelDerivationId="1" className="Observation"/>
                                             <mif:graphicRepresentation presentation="HL7">
                                                <mif:graphElement shapeId="Sheet.134" containerDiagramName="Main" shapeTemplate="Act"
                                                                  isWidthAutoSize="true"
                                                                  isHeightAutoSize="true">
                                                   <mif:position x="5.878" y="9.796"/>
                                                   <mif:size width="3.223" height="1.314"/>
                                                </mif:graphElement>
                                             </mif:graphicRepresentation>
                                             <mif:annotations>
                                                <mif:definition>
                                                   <mif:text>
                                                      <mif:p>
                                                         <mif:p>Indicates the specific allergy test that supports the recording of the allergy/intolerance.</mif:p>
                                                      </mif:p>
                                                   </mif:text>
                                                </mif:definition>
                                                <mif:rationale>
                                                   <mif:text>
                                                      <mif:p>
                                                         <mif:p>Provides evidence for recording the allergy/intolerance.</mif:p>
                                                      </mif:p>
                                                   </mif:text>
                                                </mif:rationale>
                                                <mif:constraint>
                                                   <mif:text>
                                                      <mif:p>
                                                         <mif:p>At least one of Id or Value must be specified.</mif:p>
                                                      </mif:p>
                                                   </mif:text>
                                                   <mif:graphicRepresentation>
                                                      <mif:graphElement shapeId="Sheet.287" containerDiagramName="Main" isWidthAutoSize="true"
                                                                        isHeightAutoSize="true">
                                                         <mif:position x="9.772" y="9.924"/>
                                                         <mif:size width="1.456" height="0.444"/>
                                                         <mif:anchorage connectToShapeId="Sheet.287">
                                                            <mif:position x="10.500" y="10.146"/>
                                                            <mif:graphEdge>
                                                               <mif:anchor connectToShapeId="Sheet.134">
                                                                  <mif:position x="9.101" y="10.322"/>
                                                               </mif:anchor>
                                                            </mif:graphEdge>
                                                         </mif:anchorage>
                                                      </mif:graphElement>
                                                   </mif:graphicRepresentation>
                                                </mif:constraint>
                                             </mif:annotations>
                                             <mif:attribute name="classCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="true"
                                                            fixedValue="OBS"
                                                            isStructural="true">
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="classCode"/>
                                                <mif:type name="CS"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActClass" mnemonic="OBS"/>
                                             </mif:attribute>
                                             <mif:attribute name="moodCode" sortKey="2" minimumMultiplicity="1" maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="true"
                                                            fixedValue="EVN"
                                                            isStructural="true">
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="moodCode"/>
                                                <mif:type name="CS"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActMood" mnemonic="EVN"/>
                                             </mif:attribute>
                                             <mif:attribute name="id" sortKey="3" minimumMultiplicity="0" maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="false"
                                                            isStructural="false">
                                                <mif:businessName name="B:Allergy Test Record Id"/>
                                                <mif:annotations>
                                                   <mif:definition>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>An identifier for a specific instance of an allergy/intolerance test.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:definition>
                                                   <mif:rationale>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Allows an allergy/intolerance test record to be directly referenced.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:rationale>
                                                </mif:annotations>
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="id"/>
                                                <mif:type name="II.BUS"/>
                                             </mif:attribute>
                                             <mif:attribute name="code" sortKey="4" minimumMultiplicity="1" maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="true"
                                                            isStructural="false">
                                                <mif:businessName name="A:Allergy Test Type"/>
                                                <mif:annotations>
                                                   <mif:definition>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>A coded value denoting the type of allergy test conducted.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:definition>
                                                   <mif:rationale>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Allows different kinds of allergy/intolerance tests to be distinguishable and is therefore mandatory. It uses the CD type to support SNOMED post-coordination.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:rationale>
                                                </mif:annotations>
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="code"/>
                                                <mif:type name="CD"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" domainName="ObservationAllergyTestType"/>
                                             </mif:attribute>
                                             <mif:attribute name="statusCode" sortKey="5" minimumMultiplicity="1" maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="true"
                                                            fixedValue="completed"
                                                            isStructural="false">
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="statusCode"/>
                                                <mif:type name="CS"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActStatus" mnemonic="completed"/>
                                             </mif:attribute>
                                             <mif:attribute name="effectiveTime" sortKey="6" minimumMultiplicity="0"
                                                            maximumMultiplicity="1"
                                                            conformance="R"
                                                            isMandatory="false"
                                                            isStructural="false">
                                                <mif:businessName name="D:Allergy Test Date"/>
                                                <mif:annotations>
                                                   <mif:definition>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>The date on which the allergy test was performed.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:definition>
                                                   <mif:rationale>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Allows providers to evaluate the currency of the test.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:rationale>
                                                </mif:annotations>
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation"
                                                                        attributeName="effectiveTime"/>
                                                <mif:type name="TS.DATE"/>
                                             </mif:attribute>
                                             <mif:attribute name="value" sortKey="7" minimumMultiplicity="0" maximumMultiplicity="1"
                                                            isMandatory="false"
                                                            isStructural="false">
                                                <mif:businessName name="C:Allergy Test Result"/>
                                                <mif:annotations>
                                                   <mif:definition>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>A code indicating result of the allergy test.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:definition>
                                                   <mif:rationale>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Allows other providers to evaluate the test. There is no point in associating an allergy test with unknown results with an allergy or intolerance however the element is optional because this information may be post-coordinated in the 'code' attribute using SNOMED.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:rationale>
                                                   <mif:constraint>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Value is required if not using SNOMED</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                      <mif:graphicRepresentation>
                                                         <mif:graphElement shapeId="Sheet.251" containerDiagramName="Main" isWidthAutoSize="true"
                                                                           isHeightAutoSize="true">
                                                            <mif:position x="9.494" y="10.743"/>
                                                            <mif:size width="1.806" height="0.444"/>
                                                            <mif:anchorage connectToShapeId="Sheet.251">
                                                               <mif:position x="10.397" y="10.966"/>
                                                               <mif:graphEdge>
                                                                  <mif:anchor connectToShapeId="Sheet.134">
                                                                     <mif:position x="9.101" y="10.453"/>
                                                                  </mif:anchor>
                                                               </mif:graphEdge>
                                                            </mif:anchorage>
                                                         </mif:graphElement>
                                                      </mif:graphicRepresentation>
                                                   </mif:constraint>
                                                </mif:annotations>
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="value"/>
                                                <mif:type name="CV"/>
                                                <mif:supplierDomainSpecification codingStrength="CNE" domainName="AllergyTestValue"/>
                                             </mif:attribute>
                                          </mif:class>
                                       </mif:specializedClass>
                                    </mif:specializationChild>
                                 </mif:class>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="Support">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                         associationEndName="inboundRelationship"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                             associationEndName="source"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
            <mif:association sortKey="5">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="9.110" y="5.365"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.181">
                           <mif:position x="9.110" y="5.365"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="subjectOf1" minimumMultiplicity="1" maximumMultiplicity="1"
                                     conformance="R"
                                     isMandatory="true"
                                     sortKey="CDB_______">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                          associationEndName="inboundRelationship"/>
                  <mif:participantClass>
                     <mif:class name="Subject4" isAbstract="false">
                        <mif:businessName name="d:has history"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.181" containerDiagramName="Main" shapeTemplate="ActRelationship"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="Left">
                              <mif:position x="9.110" y="4.776"/>
                              <mif:size width="2.542" height="0.569"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Shows how the status of the allergy has changed over time.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Allows providers to understand what the status of a particular allergy/intolerance was on a given date. Historical statuses may impact views of previous clinical decisions, such as contraindication managements.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="SUBJ"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActRelationshipType" mnemonic="SUBJ"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AN"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                        </mif:attribute>
                        <mif:attribute name="contextConductionInd" sortKey="3" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="false"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextConductionInd"/>
                           <mif:type name="BL"/>
                        </mif:attribute>
                        <mif:association sortKey="46">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.181" containerDiagramName="Main">
                                 <mif:position x="11.652" y="4.756"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.177">
                                       <mif:position x="11.652" y="4.756"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="controlActEvent" minimumMultiplicity="1" maximumMultiplicity="1"
                                                 conformance="R"
                                                 isMandatory="true"
                                                 sortKey="AZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                      associationEndName="source"/>
                              <mif:participantClass>
                                 <mif:class name="ControlActEvent" isAbstract="false">
                                    <mif:businessName name="Allergy/Intolerance Status Changes"/>
                                    <mif:derivationSupplier staticModelDerivationId="1" className="ControlAct"/>
                                    <mif:graphicRepresentation presentation="HL7">
                                       <mif:graphElement shapeId="Sheet.177" containerDiagramName="Main" shapeTemplate="Act"
                                                         isWidthAutoSize="true"
                                                         isHeightAutoSize="true">
                                          <mif:position x="11.652" y="4.032"/>
                                          <mif:size width="2.696" height="1.448"/>
                                       </mif:graphElement>
                                    </mif:graphicRepresentation>
                                    <mif:annotations>
                                       <mif:definition>
                                          <mif:text>
                                             <mif:p>
                                                <mif:p>This records the history of changes that have been made to the allergy/intolerance, including why the changes were made, who made them and when.</mif:p>
                                             </mif:p>
                                          </mif:text>
                                       </mif:definition>
                                       <mif:rationale>
                                          <mif:text>
                                             <mif:p>
                                                <mif:p>Provides a record of a patient's allergy changes, providing deeper clinical understanding, particularly of past clinical decisions.</mif:p>
                                             </mif:p>
                                          </mif:text>
                                       </mif:rationale>
                                    </mif:annotations>
                                    <mif:attribute name="classCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   fixedValue="CACT"
                                                   isStructural="true">
                                       <mif:derivationSupplier staticModelDerivationId="1" className="ControlAct" attributeName="classCode"/>
                                       <mif:type name="CS"/>
                                       <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActClass" mnemonic="CACT"/>
                                    </mif:attribute>
                                    <mif:attribute name="moodCode" sortKey="2" minimumMultiplicity="1" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   fixedValue="EVN"
                                                   isStructural="true">
                                       <mif:derivationSupplier staticModelDerivationId="1" className="ControlAct" attributeName="moodCode"/>
                                       <mif:type name="CS"/>
                                       <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActMood" mnemonic="EVN"/>
                                    </mif:attribute>
                                    <mif:attribute name="code" sortKey="3" minimumMultiplicity="1" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   isStructural="false">
                                       <mif:businessName name="A:Allergy/Intolerance Status Change Type"/>
                                       <mif:annotations>
                                          <mif:definition>
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>Identifies what kind of change occurred. Allergy/Intolerance change types are Revise, Reactivate and Complete.</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:definition>
                                          <mif:rationale>
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>This attribute is mandatory to ensure that change types are distinguishable.</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:rationale>
                                       </mif:annotations>
                                       <mif:derivationSupplier staticModelDerivationId="1" className="ControlAct" attributeName="code"/>
                                       <mif:type name="CV"/>
                                       <mif:supplierDomainSpecification codingStrength="CNE" domainName="HL7TriggerEventCode"/>
                                    </mif:attribute>
                                    <mif:attribute name="statusCode" sortKey="4" minimumMultiplicity="1" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   fixedValue="completed"
                                                   isStructural="false">
                                       <mif:derivationSupplier staticModelDerivationId="1" className="ControlAct" attributeName="statusCode"/>
                                       <mif:type name="CS"/>
                                       <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActStatus" mnemonic="completed"/>
                                    </mif:attribute>
                                    <mif:attribute name="effectiveTime" sortKey="5" minimumMultiplicity="1"
                                                   maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   isStructural="false">
                                       <mif:businessName name="B:Allergy/intolerance Status Change Effective Date"/>
                                       <mif:annotations>
                                          <mif:definition>
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>The date on which the various changes of an allergy/intolerance become valid and applicable.</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:definition>
                                          <mif:rationale>
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>Allows applications to sort and filter by time. The date on which a change is effective should always be known and thus is mandatory.</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:rationale>
                                       </mif:annotations>
                                       <mif:derivationSupplier staticModelDerivationId="1" className="ControlAct"
                                                               attributeName="effectiveTime"/>
                                       <mif:type name="TS.FULLDATE"/>
                                    </mif:attribute>
                                    <mif:attribute name="reasonCode" sortKey="6" minimumMultiplicity="0" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="false"
                                                   isStructural="false">
                                       <mif:businessName name="C:Allergy/Intolerance Status Change Reason"/>
                                       <mif:annotations>
                                          <mif:definition>
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>Denotes the reason the allergy/intolerance was changed.</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:definition>
                                          <mif:rationale>
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>Ensures consistent terminology in capturing and interpreting reasons for change. Allows CWE because not all reasons will correspond to a pre-defined code.</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:rationale>
                                       </mif:annotations>
                                       <mif:derivationSupplier staticModelDerivationId="1" className="ControlAct" attributeName="reasonCode"/>
                                       <mif:type name="CV"/>
                                       <mif:supplierDomainSpecification codingStrength="CWE" domainName="ControlActReason"/>
                                    </mif:attribute>
                                    <mif:association sortKey="49">
                                       <mif:graphicRepresentation>
                                          <mif:graphElement connectToShapeId="Sheet.177" containerDiagramName="Main">
                                             <mif:position x="14.348" y="5.480"/>
                                             <mif:graphEdge>
                                                <mif:anchor connectToShapeId="Sheet.265">
                                                   <mif:position x="14.348" y="5.480"/>
                                                </mif:anchor>
                                             </mif:graphEdge>
                                          </mif:graphElement>
                                       </mif:graphicRepresentation>
                                       <mif:targetConnection name="responsibleParty" minimumMultiplicity="0" maximumMultiplicity="1"
                                                             conformance="R"
                                                             isMandatory="false"
                                                             sortKey="AC________">
                                          <mif:derivationSupplier staticModelDerivationId="1" className="Act" associationEndName="participation"/>
                                          <mif:participantClass>
                                             <mif:class name="ResponsibleParty2" isAbstract="false">
                                                <mif:businessName name="supervised by"/>
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Participation"/>
                                                <mif:graphicRepresentation presentation="HL7">
                                                   <mif:graphElement shapeId="Sheet.265" containerDiagramName="Main" shapeTemplate="Participation"
                                                                     textWrappingWidth="66.0"
                                                                     nodeOrientation="Right">
                                                      <mif:position x="14.348" y="4.973"/>
                                                      <mif:size width="2.899" height="0.436"/>
                                                   </mif:graphElement>
                                                </mif:graphicRepresentation>
                                                <mif:annotations>
                                                   <mif:definition>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Identity of the provider who is taking responsibility for the actions of the author.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:definition>
                                                   <mif:rationale>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Allows for the trail of responsibility for the action.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:rationale>
                                                </mif:annotations>
                                                <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                               conformance="R"
                                                               isMandatory="true"
                                                               fixedValue="RESP"
                                                               isStructural="true">
                                                   <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="typeCode"/>
                                                   <mif:type name="CS"/>
                                                   <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ParticipationType" mnemonic="RESP"/>
                                                </mif:attribute>
                                                <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                                               maximumMultiplicity="1"
                                                               conformance="R"
                                                               isMandatory="true"
                                                               fixedValue="AP"
                                                               isStructural="true">
                                                   <mif:derivationSupplier staticModelDerivationId="1" className="Participation"
                                                                           attributeName="contextControlCode"/>
                                                   <mif:type name="CS"/>
                                                   <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AP"/>
                                                </mif:attribute>
                                                <mif:association sortKey="52">
                                                   <mif:graphicRepresentation>
                                                      <mif:graphElement connectToShapeId="Sheet.265" containerDiagramName="Main">
                                                         <mif:position x="17.247" y="4.903"/>
                                                         <mif:graphEdge>
                                                            <mif:anchor connectToShapeId="Sheet.5">
                                                               <mif:position x="17.247" y="4.903"/>
                                                            </mif:anchor>
                                                         </mif:graphEdge>
                                                      </mif:graphElement>
                                                   </mif:graphicRepresentation>
                                                   <mif:targetConnection name="assignedEntity" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                         conformance="R"
                                                                         isMandatory="false"
                                                                         sortKey="BZ">
                                                      <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="role"/>
                                                      <mif:participantClass>
                                                         <mif:reference name="R_AssignedPersonIdentified-informational"/>
                                                      </mif:participantClass>
                                                   </mif:targetConnection>
                                                   <mif:sourceConnection>
                                                      <mif:nonTraversableConnection participantClassName="ResponsibleParty2">
                                                         <mif:derivationSupplier staticModelDerivationId="1" className="Role" associationEndName="participation"/>
                                                      </mif:nonTraversableConnection>
                                                   </mif:sourceConnection>
                                                </mif:association>
                                             </mif:class>
                                          </mif:participantClass>
                                       </mif:targetConnection>
                                       <mif:sourceConnection>
                                          <mif:nonTraversableConnection participantClassName="ControlActEvent">
                                             <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="act"/>
                                          </mif:nonTraversableConnection>
                                       </mif:sourceConnection>
                                    </mif:association>
                                    <mif:association sortKey="50">
                                       <mif:graphicRepresentation>
                                          <mif:graphElement connectToShapeId="Sheet.177" containerDiagramName="Main">
                                             <mif:position x="14.348" y="4.322"/>
                                             <mif:graphEdge>
                                                <mif:anchor connectToShapeId="Sheet.187">
                                                   <mif:position x="14.348" y="4.322"/>
                                                </mif:anchor>
                                             </mif:graphEdge>
                                          </mif:graphElement>
                                       </mif:graphicRepresentation>
                                       <mif:targetConnection name="author" minimumMultiplicity="1" maximumMultiplicity="1" conformance="R"
                                                             isMandatory="true"
                                                             sortKey="AEA_______">
                                          <mif:derivationSupplier staticModelDerivationId="1" className="Act" associationEndName="participation"/>
                                          <mif:participantClass>
                                             <mif:class name="Author3" isAbstract="false">
                                                <mif:businessName name="*changed by"/>
                                                <mif:derivationSupplier staticModelDerivationId="1" className="Participation"/>
                                                <mif:graphicRepresentation presentation="HL7">
                                                   <mif:graphElement shapeId="Sheet.187" containerDiagramName="Main" shapeTemplate="Participation"
                                                                     textWrappingWidth="66.0"
                                                                     nodeOrientation="Right">
                                                      <mif:position x="14.348" y="4.134"/>
                                                      <mif:size width="2.899" height="0.569"/>
                                                   </mif:graphElement>
                                                </mif:graphicRepresentation>
                                                <mif:annotations>
                                                   <mif:definition>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>Identity of the health service provider responsible for the change in the allergy/intolerance status.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:definition>
                                                   <mif:rationale>
                                                      <mif:text>
                                                         <mif:p>
                                                            <mif:p>In an EHR integrated health services environment, it is important that other providers are able to query who is responsible for a given change. Also used by applications for auditing and sorting. The attribute is mandatory because the responsible provider should always be known.</mif:p>
                                                         </mif:p>
                                                      </mif:text>
                                                   </mif:rationale>
                                                </mif:annotations>
                                                <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                               conformance="R"
                                                               isMandatory="true"
                                                               fixedValue="AUT"
                                                               isStructural="true">
                                                   <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="typeCode"/>
                                                   <mif:type name="CS"/>
                                                   <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ParticipationType" mnemonic="AUT"/>
                                                </mif:attribute>
                                                <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                                               maximumMultiplicity="1"
                                                               conformance="R"
                                                               isMandatory="true"
                                                               fixedValue="AP"
                                                               isStructural="true">
                                                   <mif:derivationSupplier staticModelDerivationId="1" className="Participation"
                                                                           attributeName="contextControlCode"/>
                                                   <mif:type name="CS"/>
                                                   <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AP"/>
                                                </mif:attribute>
                                                <mif:attribute name="time" sortKey="3" minimumMultiplicity="1" maximumMultiplicity="1"
                                                               conformance="R"
                                                               isMandatory="true"
                                                               isStructural="false">
                                                   <mif:businessName name="Change Time"/>
                                                   <mif:annotations>
                                                      <mif:definition>
                                                         <mif:text>
                                                            <mif:p>
                                                               <mif:p>The date on which the change was made.</mif:p>
                                                            </mif:p>
                                                         </mif:text>
                                                      </mif:definition>
                                                      <mif:rationale>
                                                         <mif:text>
                                                            <mif:p>
                                                               <mif:p>Gives other providers the frame of reference in evaluating any post-change issues with the allergy. Also used for sorting and audit purposes. Time of change is always known and thus the attribute is mandatory.</mif:p>
                                                            </mif:p>
                                                         </mif:text>
                                                      </mif:rationale>
                                                   </mif:annotations>
                                                   <mif:derivationSupplier staticModelDerivationId="1" className="Participation" attributeName="time"/>
                                                   <mif:type name="TS.FULLDATETIME"/>
                                                </mif:attribute>
                                                <mif:association sortKey="58">
                                                   <mif:graphicRepresentation>
                                                      <mif:graphElement connectToShapeId="Sheet.187" containerDiagramName="Main">
                                                         <mif:position x="17.247" y="4.517"/>
                                                         <mif:graphEdge>
                                                            <mif:anchor connectToShapeId="Sheet.5">
                                                               <mif:position x="17.247" y="4.517"/>
                                                            </mif:anchor>
                                                         </mif:graphEdge>
                                                      </mif:graphElement>
                                                   </mif:graphicRepresentation>
                                                   <mif:targetConnection name="assignedEntity" minimumMultiplicity="1" maximumMultiplicity="1"
                                                                         conformance="R"
                                                                         isMandatory="true"
                                                                         sortKey="BZ">
                                                      <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="role"/>
                                                      <mif:participantClass>
                                                         <mif:reference name="R_AssignedPersonIdentified-informational"/>
                                                      </mif:participantClass>
                                                   </mif:targetConnection>
                                                   <mif:sourceConnection>
                                                      <mif:nonTraversableConnection participantClassName="Author3">
                                                         <mif:derivationSupplier staticModelDerivationId="1" className="Role" associationEndName="participation"/>
                                                      </mif:nonTraversableConnection>
                                                   </mif:sourceConnection>
                                                </mif:association>
                                             </mif:class>
                                          </mif:participantClass>
                                       </mif:targetConnection>
                                       <mif:sourceConnection>
                                          <mif:nonTraversableConnection participantClassName="ControlActEvent">
                                             <mif:derivationSupplier staticModelDerivationId="1" className="Participation" associationEndName="act"/>
                                          </mif:nonTraversableConnection>
                                       </mif:sourceConnection>
                                    </mif:association>
                                 </mif:class>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="Subject4">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                         associationEndName="outboundRelationship"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                             associationEndName="target"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
            <mif:association sortKey="4">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="9.110" y="5.986"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.150">
                           <mif:position x="9.110" y="5.986"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="subjectOf2" minimumMultiplicity="0" maximumMultiplicity="99"
                                     conformance="R"
                                     isMandatory="false"
                                     sortKey="CDB_______">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                          associationEndName="inboundRelationship"/>
                  <mif:participantClass>
                     <mif:class name="Subject3" isAbstract="false">
                        <mif:businessName name="*c:includes"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.150" containerDiagramName="Main" shapeTemplate="ActRelationship"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="Left">
                              <mif:position x="9.110" y="5.734"/>
                              <mif:size width="2.539" height="0.569"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Indicates the various comments that providers have recorded about this allergy/intolerance.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Improves communication between providers by allowing a mechanism to exchange un-coded free-form information.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="SUBJ"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActRelationshipType" mnemonic="SUBJ"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AN"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                        </mif:attribute>
                        <mif:attribute name="contextConductionInd" sortKey="3" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="false"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextConductionInd"/>
                           <mif:type name="BL"/>
                        </mif:attribute>
                        <mif:association sortKey="43">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.150" containerDiagramName="Main">
                                 <mif:position x="11.649" y="6.052"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.144">
                                       <mif:position x="11.649" y="6.052"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="annotation" minimumMultiplicity="1" maximumMultiplicity="1"
                                                 conformance="R"
                                                 isMandatory="false"
                                                 sortKey="AZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                      associationEndName="source"/>
                              <mif:participantClass>
                                 <mif:commonModelElementRef name="A_AnnotationUniversal">
                                    <mif:derivationSupplier staticModelDerivationId="1" className="Act"/>
                                    <mif:supplierStructuralDomain domainName="ActClass" mnemonic="ACT"/>
                                    <mif:graphicRepresentation presentation="HL7">
                                       <mif:graphElement shapeId="Sheet.144" containerDiagramName="Main" shapeTemplate="CMET"
                                                         isWidthAutoSize="true"
                                                         isHeightAutoSize="true">
                                          <mif:position x="11.649" y="5.738"/>
                                          <mif:size width="1.103" height="0.628"/>
                                       </mif:graphElement>
                                    </mif:graphicRepresentation>
                                    <mif:generalizationParent name="COCT_MT120600CA"/>
                                 </mif:commonModelElementRef>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="Subject3">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                         associationEndName="outboundRelationship"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                             associationEndName="target"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
            <mif:association sortKey="3">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="9.110" y="6.607"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.55">
                           <mif:position x="9.110" y="6.607"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="subjectOf3" minimumMultiplicity="0" maximumMultiplicity="1"
                                     isMandatory="false"
                                     sortKey="CDB_______">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                          associationEndName="inboundRelationship"/>
                  <mif:participantClass>
                     <mif:class name="Subject1" isAbstract="false">
                        <mif:businessName name="has"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.55" containerDiagramName="Main" shapeTemplate="ActRelationship"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="Left">
                              <mif:position x="9.110" y="6.660"/>
                              <mif:size width="2.523" height="0.569"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Indicates the severity of the allergy/intolerance.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Useful for determining severity of an allergy/intolerance contraindication and the management of same. Because severity is pre-coordinated with code for SNOMED, this association is optional.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                           <mif:constraint>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Not permitted if using SNOMED.</mif:p>
                                 </mif:p>
                              </mif:text>
                              <mif:graphicRepresentation>
                                 <mif:graphElement shapeId="Sheet.239" containerDiagramName="Main" isWidthAutoSize="true"
                                                   isHeightAutoSize="true">
                                    <mif:position x="10.761" y="8.021"/>
                                    <mif:size width="1.339" height="0.444"/>
                                    <mif:anchorage connectToShapeId="Sheet.239">
                                       <mif:position x="11.430" y="8.243"/>
                                       <mif:graphEdge>
                                          <mif:anchor connectToShapeId="Sheet.55">
                                             <mif:position x="10.434" y="7.229"/>
                                          </mif:anchor>
                                       </mif:graphEdge>
                                    </mif:anchorage>
                                 </mif:graphElement>
                              </mif:graphicRepresentation>
                           </mif:constraint>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="SUBJ"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActRelationshipType" mnemonic="SUBJ"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AN"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                        </mif:attribute>
                        <mif:attribute name="contextConductionInd" sortKey="3" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="false"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextConductionInd"/>
                           <mif:type name="BL"/>
                        </mif:attribute>
                        <mif:association sortKey="19">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.55" containerDiagramName="Main">
                                 <mif:position x="11.632" y="7.283"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.51">
                                       <mif:position x="11.632" y="7.283"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="severityObservation" minimumMultiplicity="1" maximumMultiplicity="1"
                                                 isMandatory="false"
                                                 sortKey="AZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                      associationEndName="source"/>
                              <mif:participantClass>
                                 <mif:class name="SeverityObservation" isAbstract="false">
                                    <mif:businessName name="Allergy/Intolerance Severity Level"/>
                                    <mif:derivationSupplier staticModelDerivationId="1" className="Observation"/>
                                    <mif:graphicRepresentation presentation="HL7">
                                       <mif:graphElement shapeId="Sheet.51" containerDiagramName="Main" shapeTemplate="Act"
                                                         isWidthAutoSize="true"
                                                         isHeightAutoSize="true">
                                          <mif:position x="11.632" y="6.551"/>
                                          <mif:size width="3.211" height="0.914"/>
                                       </mif:graphElement>
                                    </mif:graphicRepresentation>
                                    <mif:graphicRepresentation presentation="HL7Shadow">
                                       <mif:graphElement shapeId="Sheet.231" containerDiagramName="Main" shapeTemplate="Act"
                                                         isWidthAutoSize="true"
                                                         isHeightAutoSize="true">
                                          <mif:position x="0.905" y="11.306"/>
                                          <mif:size width="1.434" height="0.750"/>
                                       </mif:graphElement>
                                    </mif:graphicRepresentation>
                                    <mif:annotations>
                                       <mif:definition>
                                          <mif:text>
                                             <mif:p>
                                                <mif:p>This is a ranking/ an assertion of the seriousness of the diagnosed/reported medical condition.</mif:p>
                                             </mif:p>
                                          </mif:text>
                                       </mif:definition>
                                       <mif:rationale>
                                          <mif:text>
                                             <mif:p>
                                                <mif:p>Allows providers to determine appropriate managements for contraindications involving such medical conditions.</mif:p>
                                             </mif:p>
                                          </mif:text>
                                       </mif:rationale>
                                    </mif:annotations>
                                    <mif:attribute name="classCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   fixedValue="OBS"
                                                   isStructural="true">
                                       <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="classCode"/>
                                       <mif:type name="CS"/>
                                       <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActClass" mnemonic="OBS"/>
                                    </mif:attribute>
                                    <mif:attribute name="moodCode" sortKey="2" minimumMultiplicity="1" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   fixedValue="EVN"
                                                   isStructural="true">
                                       <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="moodCode"/>
                                       <mif:type name="CS"/>
                                       <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActMood" mnemonic="EVN"/>
                                    </mif:attribute>
                                    <mif:attribute name="code" sortKey="3" minimumMultiplicity="1" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   fixedValue="SEV"
                                                   isStructural="false">
                                       <mif:annotations>
                                          <mif:definition>
                                             <mif:text/>
                                          </mif:definition>
                                          <mif:rationale>
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>.</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:rationale>
                                       </mif:annotations>
                                       <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="code"/>
                                       <mif:type name="CV"/>
                                       <mif:supplierDomainSpecification codingStrength="CWE" codeSystemName="ActCode" mnemonic="SEV"/>
                                    </mif:attribute>
                                    <mif:attribute name="statusCode" sortKey="4" minimumMultiplicity="1" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   fixedValue="completed"
                                                   isStructural="false">
                                       <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="statusCode"/>
                                       <mif:type name="CS"/>
                                       <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActStatus" mnemonic="completed"/>
                                    </mif:attribute>
                                    <mif:attribute name="value" sortKey="5" minimumMultiplicity="1" maximumMultiplicity="1"
                                                   conformance="R"
                                                   isMandatory="true"
                                                   isStructural="false">
                                       <mif:businessName name="C:Severity Level"/>
                                       <mif:annotations>
                                          <mif:definition>
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>Indicates the gravity of the allergy, intolerance or reaction in terms of its actual or potential impact on the patient.</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:definition>
                                          <mif:rationale>
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>Allows for sorting of allergy records. May influence whether contraindications must be managed.</mif:p>
                                                </mif:p>
                                                <mif:p>
                                                   <mif:p>Because SNOMED handles this concept by pre-coordinating it into code, this association is optional.</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:rationale>
                                          <mif:mapping sourceName="PIN">
                                             <mif:text>
                                                <mif:p>
                                                   <mif:p>AllergyIntolerance.severity</mif:p>
                                                </mif:p>
                                             </mif:text>
                                          </mif:mapping>
                                       </mif:annotations>
                                       <mif:derivationSupplier staticModelDerivationId="1" className="Observation" attributeName="value"/>
                                       <mif:type name="CV"/>
                                       <mif:supplierDomainSpecification codingStrength="CNE" domainName="SeverityObservation"/>
                                    </mif:attribute>
                                 </mif:class>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="Subject1">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                         associationEndName="outboundRelationship"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                             associationEndName="target"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
            <mif:association sortKey="0">
               <mif:graphicRepresentation>
                  <mif:graphElement connectToShapeId="Sheet.1" containerDiagramName="Main">
                     <mif:position x="5.971" y="3.503"/>
                     <mif:graphEdge>
                        <mif:anchor connectToShapeId="Sheet.277">
                           <mif:position x="5.971" y="3.503"/>
                        </mif:anchor>
                     </mif:graphEdge>
                  </mif:graphElement>
               </mif:graphicRepresentation>
               <mif:targetConnection name="componentOf" minimumMultiplicity="0" maximumMultiplicity="100"
                                     conformance="R"
                                     isMandatory="false"
                                     sortKey="CE________">
                  <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                          associationEndName="inboundRelationship"/>
                  <mif:participantClass>
                     <mif:class name="Component" isAbstract="false">
                        <mif:businessName name="is part of"/>
                        <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"/>
                        <mif:graphicRepresentation presentation="HL7">
                           <mif:graphElement shapeId="Sheet.277" containerDiagramName="Main" shapeTemplate="ActRelationship"
                                             textWrappingWidth="66.0"
                                             nodeOrientation="Right">
                              <mif:position x="3.451" y="3.374"/>
                              <mif:size width="2.520" height="0.569"/>
                           </mif:graphElement>
                        </mif:graphicRepresentation>
                        <mif:annotations>
                           <mif:definition>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Associates the event with other care events</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:definition>
                           <mif:rationale>
                              <mif:text>
                                 <mif:p>
                                    <mif:p>Allows for grouping the current event with other care events.</mif:p>
                                 </mif:p>
                              </mif:text>
                           </mif:rationale>
                        </mif:annotations>
                        <mif:attribute name="typeCode" sortKey="1" minimumMultiplicity="1" maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="COMP"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="typeCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ActRelationshipType" mnemonic="COMP"/>
                        </mif:attribute>
                        <mif:attribute name="contextControlCode" sortKey="2" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="AN"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextControlCode"/>
                           <mif:type name="CS"/>
                           <mif:supplierDomainSpecification codingStrength="CNE" codeSystemName="ContextControl" mnemonic="AN"/>
                        </mif:attribute>
                        <mif:attribute name="contextConductionInd" sortKey="3" minimumMultiplicity="1"
                                       maximumMultiplicity="1"
                                       conformance="R"
                                       isMandatory="true"
                                       fixedValue="false"
                                       isStructural="true">
                           <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                   attributeName="contextConductionInd"/>
                           <mif:type name="BL"/>
                        </mif:attribute>
                        <mif:association sortKey="11">
                           <mif:graphicRepresentation>
                              <mif:graphElement connectToShapeId="Sheet.277" containerDiagramName="Main">
                                 <mif:position x="3.451" y="3.814"/>
                                 <mif:graphEdge>
                                    <mif:anchor connectToShapeId="Sheet.271">
                                       <mif:position x="3.451" y="3.814"/>
                                    </mif:anchor>
                                 </mif:graphEdge>
                              </mif:graphElement>
                           </mif:graphicRepresentation>
                           <mif:targetConnection name="patientCareProvisionEvent" minimumMultiplicity="1"
                                                 maximumMultiplicity="1"
                                                 conformance="R"
                                                 isMandatory="false"
                                                 sortKey="AZ">
                              <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                                      associationEndName="source"/>
                              <mif:participantClass>
                                 <mif:commonModelElementRef name="A_CareEventIdentified">
                                    <mif:derivationSupplier staticModelDerivationId="1" className="Act"/>
                                    <mif:supplierStructuralDomain domainName="ActClass" mnemonic="ACT"/>
                                    <mif:graphicRepresentation presentation="HL7">
                                       <mif:graphElement shapeId="Sheet.271" containerDiagramName="Main" shapeTemplate="CMET"
                                                         isWidthAutoSize="true"
                                                         isHeightAutoSize="true">
                                          <mif:position x="2.349" y="3.438"/>
                                          <mif:size width="1.103" height="0.628"/>
                                       </mif:graphElement>
                                    </mif:graphicRepresentation>
                                    <mif:generalizationParent name="COCT_MT011001CA"/>
                                 </mif:commonModelElementRef>
                              </mif:participantClass>
                           </mif:targetConnection>
                           <mif:sourceConnection>
                              <mif:nonTraversableConnection participantClassName="Component">
                                 <mif:derivationSupplier staticModelDerivationId="1" className="Act"
                                                         associationEndName="outboundRelationship"/>
                              </mif:nonTraversableConnection>
                           </mif:sourceConnection>
                        </mif:association>
                     </mif:class>
                  </mif:participantClass>
               </mif:targetConnection>
               <mif:sourceConnection>
                  <mif:nonTraversableConnection participantClassName="IntoleranceCondition">
                     <mif:derivationSupplier staticModelDerivationId="1" className="ActRelationship"
                                             associationEndName="target"/>
                  </mif:nonTraversableConnection>
               </mif:sourceConnection>
            </mif:association>
         </mif:class>
      </mif:specializedClass>
   </mif:ownedEntryPoint>
</mif:serializedStaticModel>